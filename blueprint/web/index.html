<!DOCTYPE html>
<html lang="en">
<head>
<script>
  MathJax = { 
    tex: {
		    inlineMath: [['$','$'], ['\\(','\\)']]
	} }
</script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
</script>
<meta name="generator" content="plasTeX" />
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Pólya’s enumeration theorem</title>
<link rel="stylesheet" href="styles/theme-white.css" />
<link rel="stylesheet" href="styles/amsthm.css" />
<link rel="stylesheet" href="styles/showmore.css" />
<link rel="stylesheet" href="styles/blueprint.css" />
<link rel="stylesheet" href="styles/extra_styles.css" />
</head>

<body>

<div class="wrapper">

<div class="content">
<div class="content-wrapper">


<div class="main-text">
<div class="titlepage">
<h1>Pólya’s enumeration theorem</h1>
<p class="authors">
<span class="author">Luka Opravš</span>
</p>
</div>
<div class="abstract"> The goal of this project is to formalize the <a href ="https://en.wikipedia.org/wiki/P%C3%B3lya_enumeration_theorem"><span class="ttfamily">Pólya’s enumeration theorem</span></a>, implement a fast algorithm for its usage, and formalize some of its applications in Lean 4 with Mathlib. </div>
<h1 id="a0000000002">1 The number of distinct colorings</h1>
<p>Given a set of objects \(X\) and a set of colors \(Y\), we interpret functions in \(Y^X = \{ f : X \to Y\} \) as <em>colorings</em> of \(X\) with colors in \(Y\). In a coloring \(f\), an object \(x \in X\) is colored with \(f(x)\). </p>
<p>Let \(G\) be a group. A (left) <em>group action</em> of \(G\) on a set \(X\) is a function \({-} \cdot {-} : G \times X \to X\) that satisfies: </p>
<div class="displaymath" id="a0000000003">
  \begin{align*}  1 \cdot x & = x \quad \forall x \in X,\\ g \cdot (h \cdot x) & = (gh) \cdot x \quad \forall g, h \in G, \forall x \in X. \end{align*}
</div>
<p>For any group action, we define the following: </p>
<ul class="itemize">
  <li><p><b class="bfseries">Orbits:</b> A group action induces an equivalence relation on \(X\) defined by </p>
<div class="displaymath" id="a0000000004">
  \begin{equation*}  x \sim y \iff \exists g \in G : g \cdot x = y. \end{equation*}
</div>
<p> The quotient set \(X / G\) is the set of equivalence classes under this relation. The equivalence class of an element \(x \in X\) is called the <em>orbit of \(x\)</em> and is denoted as \(Gx = \{ g \cdot x : g \in G\} \). </p>
</li>
  <li><p><b class="bfseries">Fixed points:</b> The set of <em>fixed points</em> of \(g \in G\) is \(X^g = \{ x \in X : g \cdot x = x\} \). </p>
</li>
  <li><p><b class="bfseries">Stabilizer:</b> The <em>stabilizer</em> of \(x \in X\) is \(G_x = \{ g \in G : g \cdot x = x\} \). </p>
</li>
</ul>
<p>Given a group \(G\) acting on a set \(X\), we interpret the elements of \(G\) as transformations that permute the elements of \(X\) into an equivalent configuration. If we color the elements of \(X\) using a function \(f : X \to Y\) and then permute \(X\) with an element \(g \in G\), we obtain an equivalent configuration with a new coloring defined by \(x \mapsto f(g^{-1} \cdot x)\). The inverse \(g^{-1}\) appears in the definition of the new coloring because the color of the element \(x\) in the new permuted configuration must match the color of its preimage \(g^{-1} \cdot x\) in the original configuration. Thus, for any \(g \in G\), we consider the colorings \(f\) and \(x \mapsto f(g^{-1} \cdot x)\) to be equivalent. </p>
<p>Any action of \(G\) on \(X\) induces an action of \(G\) on the set of functions \(X \to Y\), mapping colorings to equivalent colorings. We will denote both group actions using \({-} \cdot {-}\), because we can always determine which action is intended from the type of the second argument. </p>
<div class="proposition_thmwrapper theorem-style-plain" id="prop:MulActionColorings">
  <div class="proposition_thmheading">
    <span class="proposition_thmcaption">
    Proposition
    </span>
    <span class="proposition_thmlabel">1</span>
    <div class="thm_header_extras">

    
    ✓
        </div>
    <div class="thm_header_hidden_extras">

    <a class="icon proof" href="index.html#prop:MulActionColorings">#</a>
    
    <a class="icon proof" href="index.html#a0000000005"><svg  class="icon icon-cogs "><use xlink:href="symbol-defs.svg#icon-cogs"></use></svg>
</a>
    
    
    
    <button class="modal lean">L∃∀N</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/DistinctColorings.MulActionColorings" class="lean_decl">DistinctColorings.MulActionColorings</a></li>
          
        </ul>
    
      </div>
    </div>

    
        </div>
  </div>
  <div class="proposition_thmcontent">
  <p>  Given a group action of \(G\) on \(X\), we can define an induced group action of \(G\) on \(Y^X\) by: </p>
<div class="displaymath" id="a0000000006">
  \begin{equation*}  g \cdot f = \big(x \mapsto f(g^{-1} \cdot x)\big). \end{equation*}
</div>

  </div>
</div>
<div class="proof_wrapper" id="a0000000005">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">▶</span>
  </div>
  <div class="proof_content">
  
<div class="displaymath" id="a0000000007">
  \begin{gather*}  (1 \cdot f)(x) = f(1^{-1} \cdot x) = f(1 \cdot x) = f(x), \\ (g \cdot (h \cdot f))(x) = f(h^{-1} \cdot (g^{-1} \cdot x)) = f((h^{-1}g^{-1}) \cdot x) = f((gh)^{-1} \cdot x) = ((gh) \cdot f)(x). \end{gather*}
</div>

  </div>
</div>
<p>The orbits of this group action correspond to sets of equivalent colorings. When \(X\) and \(Y\) are finite, the set of orbits \(Y^X/G\) is also finite. The number of distinct colorings is exactly the number of orbits. From this point onward, we will assume that both \(X\) and \(Y\) are finite. </p>
<div class="definition_thmwrapper theorem-style-definition" id="def:numDistinctColorings">
  <div class="definition_thmheading">
    <span class="definition_thmcaption">
    Definition
    </span>
    <span class="definition_thmlabel">2</span>
    <div class="thm_header_extras">

    
    ✓
        </div>
    <div class="thm_header_hidden_extras">

    <a class="icon proof" href="index.html#def:numDistinctColorings">#</a>
    
    
    <button class="modal"><svg  class="icon icon-mindmap "><use xlink:href="symbol-defs.svg#icon-mindmap"></use></svg>
</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Uses</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="index.html#prop:MulActionColorings">Proposition 1</a></li>
          
        </ul>
    
      </div>
    </div>

    
    
    <button class="modal lean">L∃∀N</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/DistinctColorings.numDistinctColorings" class="lean_decl">DistinctColorings.numDistinctColorings</a></li>
          
        </ul>
    
      </div>
    </div>

    
        </div>
  </div>
  <div class="definition_thmcontent">
  <p>   The <em>number of distinct colorings</em> is defined as \(|Y^X/G|\). </p>

  </div>
</div>
<h1 id="a0000000008">2 Cycles of elements in a group</h1>
<p>A group action of \(G\) on \(X\) associates each element \(g \in G\) with a permutation in \(S_X = \{ \pi : X \to X \mid \pi \text{ is bijective}\} \). Specifically, each \(g \in G\) is mapped to a permutation \(\pi _g\) defined by \(\pi _g(x) = g \cdot x\). The mapping \(\phi : G \to S_X\), given by \(\phi (g) = \pi _g\), is a group homomorphism. </p>
<p>Using this correspondence, we define the <em>cycles of \(g\)</em> as the cycles of the permutation \(\pi _g\). The number of cycles of \(g\) is denoted by \(c(g)\). </p>
<p>In Mathlib, the function \(\phi \) is implemented as <em>MulAction.toPerm</em>. Cycles and the decomposition of permutations into disjoint cycles are included as well. However, in our case, they are tedious to work with because cycles of length \(1\) are not recognized as proper cycles and are excluded from the factorizations. For this reason, we define our own version of cycles that also includes cycles of length \(1\). </p>
<div class="definition_thmwrapper theorem-style-definition" id="def:CyclesOfGroup">
  <div class="definition_thmheading">
    <span class="definition_thmcaption">
    Definition
    </span>
    <span class="definition_thmlabel">3</span>
    <div class="thm_header_extras">

    
    ✓
        </div>
    <div class="thm_header_hidden_extras">

    <a class="icon proof" href="index.html#def:CyclesOfGroup">#</a>
    
    
    
    <button class="modal lean">L∃∀N</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/CyclesOfGroupElements.CyclesOfGroup" class="lean_decl">CyclesOfGroupElements.CyclesOfGroup</a></li>
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/CyclesOfGroupElements.numCyclesOfGroup" class="lean_decl">CyclesOfGroupElements.numCyclesOfGroup</a></li>
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/CyclesOfGroupElements.numGroupOfNumCycles" class="lean_decl">CyclesOfGroupElements.numGroupOfNumCycles</a></li>
          
        </ul>
    
      </div>
    </div>

    
        </div>
  </div>
  <div class="definition_thmcontent">
  <p>  Given \(g \in G\), the set of <em>cycles of \(g\)</em> is defined as \(X / \sim _g\), where \(\sim _g\) is the equivalence relation of being in the same cycle of \(g\): </p>
<div class="displaymath" id="a0000000009">
  \begin{equation*}  x_1 \sim _g x_2 \iff \exists k \in \mathbb {Z}: \pi _g^k(x_1) = x_2. \end{equation*}
</div>
<p> The <em>number of cycles of \(g\)</em> is: \(c(g) = |X / \sim _g|\).<br />The <em>number of elements in \(G\) with exactly \(i\) cycles</em> is: \(|\{ g \in G \mid c(g) = i\} |\). </p>

  </div>
</div>
<p>Colorings of the cycles of \(g \in G\) are then defined as functions in \(Y^{X / \sim _g}\). </p>
<h1 id="a0000000010">3 Proof of Pólya’s enumeration theorem</h1>
<p>Mathlib already includes an important result known as <em>Burnside’s lemma</em>, which states that for any finite group \(G\) acting on a set \(X\), the number of orbits is equal to the average number of fixed points: </p>
<div class="displaymath" id="a0000000011">
  \begin{equation*}  |X/G| = \frac{1}{|G|} \sum _{g \in G} |X^g|. \end{equation*}
</div>
<p> This result is available as <em>MulAction.sum_card_fixedBy_eq_card_orbits_mul_card_group</em> in Mathlib. It is stated as: </p>
<div class="displaymath" id="a0000000012">
  \begin{equation*}  |X/G| \cdot |G| = \sum _{g \in G} |X^g|. \end{equation*}
</div>
<p>First, we prove that for any \(g \in G\), a coloring \(f\) is a fixed point of \(g\) if and only if \(f\) maps all elements in the same cycle of \(g\) to the same color. </p>
<div class="proposition_thmwrapper theorem-style-plain" id="prop:f-mem-fixedBy-iff-forall-eq-to-eq">
  <div class="proposition_thmheading">
    <span class="proposition_thmcaption">
    Proposition
    </span>
    <span class="proposition_thmlabel">4</span>
    <div class="thm_header_extras">

    
    ✓
        </div>
    <div class="thm_header_hidden_extras">

    <a class="icon proof" href="index.html#prop:f-mem-fixedBy-iff-forall-eq-to-eq">#</a>
    
    <a class="icon proof" href="index.html#a0000000013"><svg  class="icon icon-cogs "><use xlink:href="symbol-defs.svg#icon-cogs"></use></svg>
</a>
    
    
    <button class="modal"><svg  class="icon icon-mindmap "><use xlink:href="symbol-defs.svg#icon-mindmap"></use></svg>
</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Uses</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="index.html#prop:MulActionColorings">Proposition 1</a></li>
          
        </ul>
    
      </div>
    </div>

    
    
    <button class="modal lean">L∃∀N</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/Theorem.f_mem_fixedBy_iff_forall_eq_to_eq" class="lean_decl">Theorem.f_mem_fixedBy_iff_forall_eq_to_eq</a></li>
          
        </ul>
    
      </div>
    </div>

    
        </div>
  </div>
  <div class="proposition_thmcontent">
  <p>   For any \(g \in G\): </p>
<div class="displaymath" id="a0000000014">
  \begin{equation*}  f \in (Y^X)^g \iff \forall x_1, x_2 \in X: (x_1 \sim _g x_2 \implies f(x_1) = f(x_2)). \end{equation*}
</div>

  </div>
</div>
<div class="proof_wrapper" id="a0000000013">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">▶</span>
  </div>
  <div class="proof_content">
  
<div class="displaymath" id="a0000000015">
  \begin{align}  f \in (Y^X)^g & \iff g \cdot f = f, \\ & \iff \forall x \in X: (g \cdot f)(x) = f(x), \\ & \iff \forall x \in X: f(g^{-1} \cdot x) = f(x), \\ & \iff \forall x \in X, \forall k \in \mathbb {Z}: f(g^k \cdot x) = f(x), \\ & \iff \forall x_1, x_2 \in X: (x_1 \sim _g x_2 \implies f(x_1) = f(x_2)). \end{align}
</div>
<p> The \((3) \implies (4)\) implication is proven inductively.<br />If \(k = 0\) then \(f(1 \cdot x) = f(x)\) by the first property of group action.<br />If \(k \geq 1\) then we use (3) on \(g^{k} \cdot x\) to get \(f(g^{k - 1} \cdot x) = f(g^k \cdot x)\) and then use the induction hypothesis \(f(g^{k - 1} \cdot x) = f(x)\) to conclude \(f(g^k \cdot x) = f(x)\).<br />If \(k \leq -1\) then we use (3) on \(g^{k + 1} \cdot x\) to get \(f(g^k \cdot x) = f(g^{k + 1} \cdot x)\) and then use the induction hypothesis \(f(g^{k + 1} \cdot x) = f(x)\) to conclude \(f(g^k \cdot x) = f(x)\).<br /><br />To prove that \((4) \iff (5)\) we use the fact that \(x_1 \sim _g x_2 \iff \exists k \in \mathbb {Z}: g^k \cdot x_1 = x_2\).<br />The \((4) \implies (5)\) implication follows by using \((4)\) with \(x = x_1\) and \(k\) from \(\exists k \in \mathbb {Z}: g^k \cdot x_1 = x_2\).<br />The \((5) \implies (4)\) implication follows by using \((5)\) with \(x_1 = g^k \cdot x\) and \(x_2 = x\). </p>

  </div>
</div>
<p>We will only use the left-to-right implication of this result. However, the right-to-left direction is also proven, as it requires only a small amount of additional work and it nicely encapsulates the idea that the set of colorings fixed by \(g\) is the same as the set of colorings that map all elements in the same cycle of \(g\) to the same color. </p>
<p>Since we can interpret elements of \(Y^{X/\sim _g}\) as functions that map all elements in the same cycle of \(g\) to the same color, we can conclude that \(|(Y^X)^g| = |Y^{X/\sim _g}|\). However, in Lean, \((Y^X)^g\) is a set of functions that map from \(X\), while \(Y^{X/\sim _g}\) is a type of functions that map from \(X/\sim _g\). Therefore, we cannot formally talk about equality of sets. To formalize our argument, we construct a bijection between \((Y^X)^g\) and \(Y^{X/\sim _g}\). </p>
<div class="proposition_thmwrapper theorem-style-plain" id="prop:equiv-of-fixedBy-coloring-of-cycle-coloring">
  <div class="proposition_thmheading">
    <span class="proposition_thmcaption">
    Proposition
    </span>
    <span class="proposition_thmlabel">5</span>
    <div class="thm_header_extras">

    
    ✓
        </div>
    <div class="thm_header_hidden_extras">

    <a class="icon proof" href="index.html#prop:equiv-of-fixedBy-coloring-of-cycle-coloring">#</a>
    
    <a class="icon proof" href="index.html#a0000000016"><svg  class="icon icon-cogs "><use xlink:href="symbol-defs.svg#icon-cogs"></use></svg>
</a>
    
    
    <button class="modal"><svg  class="icon icon-mindmap "><use xlink:href="symbol-defs.svg#icon-mindmap"></use></svg>
</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Uses</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="index.html#prop:f-mem-fixedBy-iff-forall-eq-to-eq">Proposition 4</a></li>
          
          <li><a href="index.html#def:CyclesOfGroup">Definition 3</a></li>
          
          <li><a href="index.html#prop:MulActionColorings">Proposition 1</a></li>
          
        </ul>
    
      </div>
    </div>

    
    
    <button class="modal lean">L∃∀N</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/Theorem.cycle_coloring_of_fixedBy_coloring" class="lean_decl">Theorem.cycle_coloring_of_fixedBy_coloring</a></li>
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/Theorem.fixedBy_coloring_of_cycle_coloring" class="lean_decl">Theorem.fixedBy_coloring_of_cycle_coloring</a></li>
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/Theorem.equiv_of_fixedBy_coloring_of_cycle_coloring" class="lean_decl">Theorem.equiv_of_fixedBy_coloring_of_cycle_coloring</a></li>
          
        </ul>
    
      </div>
    </div>

    
        </div>
  </div>
  <div class="proposition_thmcontent">
  <p>   Let \([x]\) denote the equivalence class of \(x\) in \(X/\sim _g\).<br />Let \(\varphi : (Y^X)^g \to Y^{X/\sim _g}\) be defined by \(\varphi (f) = ([x] \mapsto f(x'))\), where \(x'\) is some element of \([x]\).<br />Let \(\varphi ^{-1} : Y^{X/\sim _g} \to (Y^X)^g\) be defined by \(\varphi ^{-1}(f) = (x \mapsto f([x]))\).<br />Then \(\varphi \) and \(\varphi ^{-1}\) are well-defined and inverses of each other. Therefore we have a bijection between \((Y^X)^g\) and \(Y^{X/\sim _g}\). </p>

  </div>
</div>
<div class="proof_wrapper" id="a0000000016">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">▶</span>
  </div>
  <div class="proof_content">
  <p>\(\varphi \) is well-defined because by Proposition&#160;<a href="index.html#prop:f-mem-fixedBy-iff-forall-eq-to-eq">4</a>: \(f \in (Y^X)^g\) and \(x_1 \sim _g x_2\) imply \(f(x_1) = f(x_2)\).<br />\(\varphi ^{-1}\) is well-defined because it maps to \((Y^X)^g\): </p>
<div class="displaymath" id="a0000000017">
  \begin{equation*}  \forall f \in Y^{X/\sim _g}, \forall x \in X: (g \cdot \varphi ^{-1}(f))(x) = f([g^{-1} \cdot x]) = f([x]) = (\varphi ^{-1}(f))(x). \end{equation*}
</div>
<p> \(\varphi ^{-1}(\varphi (f))(x) = f(x')\), where \(x'\) is some representative of \([x]\). Therefore we have \(x \sim _g x'\) and since \(f \in (Y^X)^g\) by Proposition&#160;<a href="index.html#prop:f-mem-fixedBy-iff-forall-eq-to-eq">4</a>: \(f(x) = f(x')\).<br />\(\varphi (\varphi ^{-1}(f))([x]) = f([x'])\) where \(x'\) is some representative of \([x]\). Therefore \([x] = [x']\) and then \(f([x]) = f([x'])\). </p>

  </div>
</div>
<div class="proposition_thmwrapper theorem-style-plain" id="prop:forall-card-pow-numCyclesOfGroup-eq-card-fixedBy">
  <div class="proposition_thmheading">
    <span class="proposition_thmcaption">
    Proposition
    </span>
    <span class="proposition_thmlabel">6</span>
    <div class="thm_header_extras">

    
    ✓
        </div>
    <div class="thm_header_hidden_extras">

    <a class="icon proof" href="index.html#prop:forall-card-pow-numCyclesOfGroup-eq-card-fixedBy">#</a>
    
    <a class="icon proof" href="index.html#a0000000018"><svg  class="icon icon-cogs "><use xlink:href="symbol-defs.svg#icon-cogs"></use></svg>
</a>
    
    
    <button class="modal"><svg  class="icon icon-mindmap "><use xlink:href="symbol-defs.svg#icon-mindmap"></use></svg>
</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Uses</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="index.html#prop:equiv-of-fixedBy-coloring-of-cycle-coloring">Proposition 5</a></li>
          
          <li><a href="index.html#def:CyclesOfGroup">Definition 3</a></li>
          
          <li><a href="index.html#prop:MulActionColorings">Proposition 1</a></li>
          
        </ul>
    
      </div>
    </div>

    
    
    <button class="modal lean">L∃∀N</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/Theorem.forall_card_pow_numCyclesOfGroup_eq_card_fixedBy" class="lean_decl">Theorem.forall_card_pow_numCyclesOfGroup_eq_card_fixedBy</a></li>
          
        </ul>
    
      </div>
    </div>

    
        </div>
  </div>
  <div class="proposition_thmcontent">
  
<div class="displaymath" id="a0000000019">
  \begin{equation*}  \forall g \in G: |(Y^X)^g| = |Y|^{c(g)} \end{equation*}
</div>

  </div>
</div>
<div class="proof_wrapper" id="a0000000018">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">▶</span>
  </div>
  <div class="proof_content">
  <p>The equality \(|(Y^X)^g| = |Y^{X/\sim _g}|\) follows from the bijection in Proposition&#160;<a href="index.html#prop:equiv-of-fixedBy-coloring-of-cycle-coloring">5</a>. The number of functions in \(Y^{X/\sim _g}\) is \(|Y|^{|X/\sim _g|}\). By definition, \(c(g) = |X/\sim _g|\), which completes the proof. </p>

  </div>
</div>
<p>We use <em>Burnside’s Lemma</em> to prove <em>Pólya’s enumeration theorem</em>. Since division of natural numbers in Lean is defined as an operation \({-} / {-} : \mathbb {N} \times \mathbb {N} \to \mathbb {N}\) that rounds downwards (and returns \(0\) when dividing by \(0\)), we first prove a version of the theorem without division to preserve the fact that \(\sum _{g \in G} |Y|^{c(g)}\) is divisible by \(|G|\). </p>
<div class="theorem_thmwrapper theorem-style-plain" id="prop:numDistinctColorings-eq-sum-card-pow-numCyclesOfGroup-div-mul-card-group">
  <div class="theorem_thmheading">
    <span class="theorem_thmcaption">
    Theorem
    </span>
    <span class="theorem_thmlabel">7</span>
    <div class="thm_header_extras">

    
    ✓
        </div>
    <div class="thm_header_hidden_extras">

    <a class="icon proof" href="index.html#prop:numDistinctColorings-eq-sum-card-pow-numCyclesOfGroup-div-mul-card-group">#</a>
    
    <a class="icon proof" href="index.html#a0000000020"><svg  class="icon icon-cogs "><use xlink:href="symbol-defs.svg#icon-cogs"></use></svg>
</a>
    
    
    <button class="modal"><svg  class="icon icon-mindmap "><use xlink:href="symbol-defs.svg#icon-mindmap"></use></svg>
</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Uses</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="index.html#prop:forall-card-pow-numCyclesOfGroup-eq-card-fixedBy">Proposition 6</a></li>
          
          <li><a href="index.html#def:CyclesOfGroup">Definition 3</a></li>
          
          <li><a href="index.html#def:numDistinctColorings">Definition 2</a></li>
          
          <li><a href="index.html#prop:MulActionColorings">Proposition 1</a></li>
          
        </ul>
    
      </div>
    </div>

    
    
    <button class="modal lean">L∃∀N</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/Theorem.numDistinctColorings_mul_card_group_eq_sum_card_pow_numCyclesOfGroup" class="lean_decl">Theorem.numDistinctColorings_mul_card_group_eq_sum_card_pow_numCyclesOfGroup</a></li>
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/Theorem.numDistinctColorings_eq_sum_card_pow_numCyclesOfGroup_div_card_group" class="lean_decl">Theorem.numDistinctColorings_eq_sum_card_pow_numCyclesOfGroup_div_card_group</a></li>
          
        </ul>
    
      </div>
    </div>

    
        </div>
  </div>
  <div class="theorem_thmcontent">
  <p>   <em>(Pólya’s enumeration theorem)</em> The number of distinct colorings of \(X\) with colors in \(Y\) under the group action of \(G\) on \(X\) is: </p>
<div class="displaymath" id="a0000000021">
  \begin{equation*}  |Y^X/G| = \frac{1}{|G|} \sum _{g \in G} |Y|^{c(g)}. \end{equation*}
</div>
<p>A version of the theorem that preserves the fact that \(\sum _{g \in G} |Y|^{c(g)}\) is divisible by \(|G|\) is also provided: </p>
<div class="displaymath" id="a0000000022">
  \begin{equation*}  |Y^X/G| \cdot |G| = \sum _{g \in G} |Y|^{c(g)}. \end{equation*}
</div>

  </div>
</div>
<div class="proof_wrapper" id="a0000000020">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">▶</span>
  </div>
  <div class="proof_content">
  <p>We use <em>Burnside’s lemma</em> on colorings to get: </p>
<div class="displaymath" id="a0000000023">
  \begin{equation*}  |Y^X/G| \cdot |G| = \sum _{g \in G} |(Y^X)^g|. \end{equation*}
</div>
<p> Using Proposition&#160;<a href="index.html#prop:forall-card-pow-numCyclesOfGroup-eq-card-fixedBy">6</a>, we substitute \(|(Y^X)^g|\) with \(|Y|^{c(g)}\). </p>

  </div>
</div>
<p>We also formalize a version of the theorem where the sum ranges over the possible numbers of cycles. We denote \([n] = \{ 0, \dots , n - 1\} \). </p>
<div class="theorem_thmwrapper theorem-style-plain" id="prop:numDistinctColorings-mul-card-group-eq-sum-numGroupOfNumCycles-mul-card-pow">
  <div class="theorem_thmheading">
    <span class="theorem_thmcaption">
    Theorem
    </span>
    <span class="theorem_thmlabel">8</span>
    <div class="thm_header_extras">

    
    ✓
        </div>
    <div class="thm_header_hidden_extras">

    <a class="icon proof" href="index.html#prop:numDistinctColorings-mul-card-group-eq-sum-numGroupOfNumCycles-mul-card-pow">#</a>
    
    <a class="icon proof" href="index.html#a0000000024"><svg  class="icon icon-cogs "><use xlink:href="symbol-defs.svg#icon-cogs"></use></svg>
</a>
    
    
    <button class="modal"><svg  class="icon icon-mindmap "><use xlink:href="symbol-defs.svg#icon-mindmap"></use></svg>
</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Uses</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="index.html#prop:numDistinctColorings-eq-sum-card-pow-numCyclesOfGroup-div-mul-card-group">Theorem 7</a></li>
          
          <li><a href="index.html#def:CyclesOfGroup">Definition 3</a></li>
          
          <li><a href="index.html#def:numDistinctColorings">Definition 2</a></li>
          
          <li><a href="index.html#prop:MulActionColorings">Proposition 1</a></li>
          
        </ul>
    
      </div>
    </div>

    
    
    <button class="modal lean">L∃∀N</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/Theorem.numDistinctColorings_mul_card_group_eq_sum_numGroupOfNumCycles_mul_card_pow" class="lean_decl">Theorem.numDistinctColorings_mul_card_group_eq_sum_numGroupOfNumCycles_mul_card_pow</a></li>
          
        </ul>
    
      </div>
    </div>

    
        </div>
  </div>
  <div class="theorem_thmcontent">
  
<div class="displaymath" id="a0000000025">
  \begin{equation*}  |Y^X/G| \cdot |G| = \sum _{i \in [|X| + 1]} |\{ g \in G \mid c(g) = i\} | \cdot |Y|^i. \end{equation*}
</div>

  </div>
</div>
<div class="proof_wrapper" id="a0000000024">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">▶</span>
  </div>
  <div class="proof_content">
  <p>For any \(g \in G\) we have \(0 \leq c(g) \leq |X|\). Then: </p>
<div class="displaymath" id="a0000000026">
  \begin{equation*}  |Y^X/G| \cdot |G| = \sum _{g \in G} |Y|^{c(g)} = \sum _{i \in [|X| + 1]} \sum _{g' \in \{ g \in G \mid c(g) = i\} } |Y|^i = \sum _{i \in [|X| + 1]} |\{ g \in G \mid c(g) = i\} | \cdot |Y|^i. \end{equation*}
</div>

  </div>
</div>
<h1 id="a0000000027">4 Computation</h1>
<p>To enable efficient usage of <em>Pólya’s enumeration theorem</em>, we construct a function that quickly computes the number of cycles of any permutation of the set \([n]\). By renaming the elements of \(X\) with an arbitrary bijection \(X \to [n]\), we can compute the numbers of cycles of elements of the group using this function. </p>
<p>We define the number of cycles of a permutation as follows: </p>
<div class="definition_thmwrapper theorem-style-definition" id="def:numCyclesOfPerm">
  <div class="definition_thmheading">
    <span class="definition_thmcaption">
    Definition
    </span>
    <span class="definition_thmlabel">9</span>
    <div class="thm_header_extras">

    
    ✓
        </div>
    <div class="thm_header_hidden_extras">

    <a class="icon proof" href="index.html#def:numCyclesOfPerm">#</a>
    
    
    
    <button class="modal lean">L∃∀N</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/CyclesOfPermutation.numCyclesOfPerm" class="lean_decl">CyclesOfPermutation.numCyclesOfPerm</a></li>
          
        </ul>
    
      </div>
    </div>

    
        </div>
  </div>
  <div class="definition_thmcontent">
  <p>  Given a permutation \(\pi \in S_X\), the set of <em>cycles of \(\pi \)</em> is defined as \(X / \sim _\pi \), where \(\sim _\pi \) is the equivalence relation of being in the same cycle of \(\pi \): </p>
<div class="displaymath" id="a0000000028">
  \begin{equation*}  x_1 \sim _\pi x_2 \iff \exists k \in \mathbb {Z}: \pi ^k(x_1) = x_2. \end{equation*}
</div>
<p> The <em>number of cycles of \(\pi \)</em> is: </p>
<div class="displaymath" id="a0000000029">
  \begin{equation*}  c(\pi ) = |X / \sim _\pi |. \end{equation*}
</div>

  </div>
</div>
<p>Since working with cardinalities of quotients can be somewhat abstract, we show that the number of cycles is equal to the cardinality of any set that contains exactly one representative from each cycle of the permutation. </p>
<div class="proposition_thmwrapper theorem-style-plain" id="prop:numCyclesOfPerm-eq-card">
  <div class="proposition_thmheading">
    <span class="proposition_thmcaption">
    Proposition
    </span>
    <span class="proposition_thmlabel">10</span>
    <div class="thm_header_extras">

    
    ✓
        </div>
    <div class="thm_header_hidden_extras">

    <a class="icon proof" href="index.html#prop:numCyclesOfPerm-eq-card">#</a>
    
    <a class="icon proof" href="index.html#a0000000030"><svg  class="icon icon-cogs "><use xlink:href="symbol-defs.svg#icon-cogs"></use></svg>
</a>
    
    
    <button class="modal"><svg  class="icon icon-mindmap "><use xlink:href="symbol-defs.svg#icon-mindmap"></use></svg>
</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Uses</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="index.html#def:numCyclesOfPerm">Definition 9</a></li>
          
        </ul>
    
      </div>
    </div>

    
    
    <button class="modal lean">L∃∀N</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/CyclesOfPermutation.numCyclesOfPerm_eq_card" class="lean_decl">CyclesOfPermutation.numCyclesOfPerm_eq_card</a></li>
          
        </ul>
    
      </div>
    </div>

    
        </div>
  </div>
  <div class="proposition_thmcontent">
  <p>   For a permutation \(\pi \in S_X\) and a set \(S\) containing exactly one element from each cycle of \(\pi \), we have \(c(\pi ) = |S|\). </p>

  </div>
</div>
<div class="proof_wrapper" id="a0000000030">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">▶</span>
  </div>
  <div class="proof_content">
  <p>We construct a bijection \(\varphi : X / \sim _\pi \to S\) defined by: </p>
<div class="displaymath" id="a0000000031">
  \begin{align*}  \varphi ([x]) & = \text{the unique element in } S \text{ that lies in the same cycle as } x,\\ \varphi ^{-1}(x) & = [x]. \end{align*}
</div>
<p> Since \(\varphi \) is a bijection, we conclude that \(c(\pi ) = |S|\). </p>

  </div>
</div>
<p>We establish some auxiliary results about powers of permutations, which are needed for proving the correctness of our algorithm. </p>
<div class="proposition_thmwrapper theorem-style-plain" id="prop:exists-perm-pow">
  <div class="proposition_thmheading">
    <span class="proposition_thmcaption">
    Proposition
    </span>
    <span class="proposition_thmlabel">11</span>
    <div class="thm_header_extras">

    
    ✓
        </div>
    <div class="thm_header_hidden_extras">

    <a class="icon proof" href="index.html#prop:exists-perm-pow">#</a>
    
    <a class="icon proof" href="index.html#a0000000032"><svg  class="icon icon-cogs "><use xlink:href="symbol-defs.svg#icon-cogs"></use></svg>
</a>
    
    
    
    <button class="modal lean">L∃∀N</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/PowersOfPermutation.exists_perm_pow" class="lean_decl">PowersOfPermutation.exists_perm_pow</a></li>
          
        </ul>
    
      </div>
    </div>

    
        </div>
  </div>
  <div class="proposition_thmcontent">
  <p>  Let \(\pi \) be a permutation on a finite set \(X\), and \(x \in X\). Then there exists some \(n \in \mathbb {N}\) such that: </p>
<div class="displaymath" id="a0000000033">
  \begin{equation*}  \pi ^{n + 1}(x) = x. \end{equation*}
</div>

  </div>
</div>
<div class="proof_wrapper" id="a0000000032">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">▶</span>
  </div>
  <div class="proof_content">
  <p>Since \(X\) is finite, the cycle containing \(x\) has finite length. We set \(n\) to be the length of this cycle minus \(1\). </p>

  </div>
</div>
<div class="proposition_thmwrapper theorem-style-plain" id="prop:perm-pow-reduce">
  <div class="proposition_thmheading">
    <span class="proposition_thmcaption">
    Proposition
    </span>
    <span class="proposition_thmlabel">12</span>
    <div class="thm_header_extras">

    
    ✓
        </div>
    <div class="thm_header_hidden_extras">

    <a class="icon proof" href="index.html#prop:perm-pow-reduce">#</a>
    
    <a class="icon proof" href="index.html#a0000000034"><svg  class="icon icon-cogs "><use xlink:href="symbol-defs.svg#icon-cogs"></use></svg>
</a>
    
    
    
    <button class="modal lean">L∃∀N</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/PowersOfPermutation.perm_pow_reduce" class="lean_decl">PowersOfPermutation.perm_pow_reduce</a></li>
          
        </ul>
    
      </div>
    </div>

    
        </div>
  </div>
  <div class="proposition_thmcontent">
  <p>  Let \(\pi \) be a permutation such that \(\pi ^n(x) = x\) for some \(n \in \mathbb {N}\). Then for any \(m, r \in \mathbb {N}\), we have: </p>
<div class="displaymath" id="a0000000035">
  \begin{equation*}  \pi ^{m \cdot n + r}(x) = \pi ^r(x). \end{equation*}
</div>

  </div>
</div>
<div class="proof_wrapper" id="a0000000034">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">▶</span>
  </div>
  <div class="proof_content">
  <p>We prove this by induction on \(m\).<br />If \(m = 0\), the equation follows immediately.<br />If \(m {\gt} 0\), then </p>
<div class="displaymath" id="a0000000036">
  \begin{equation*}  \pi ^{(m + 1) \cdot n + r}(x) = \pi ^{m \cdot n + r}(\pi ^n(x)) = \pi ^{m \cdot n + r}(x), \end{equation*}
</div>
<p> and we can use the inductive hypothesis. </p>

  </div>
</div>
<div class="proposition_thmwrapper theorem-style-plain" id="prop:forall-exists-lt-perm-pow-eq-perm-pow">
  <div class="proposition_thmheading">
    <span class="proposition_thmcaption">
    Proposition
    </span>
    <span class="proposition_thmlabel">13</span>
    <div class="thm_header_extras">

    
    ✓
        </div>
    <div class="thm_header_hidden_extras">

    <a class="icon proof" href="index.html#prop:forall-exists-lt-perm-pow-eq-perm-pow">#</a>
    
    <a class="icon proof" href="index.html#a0000000037"><svg  class="icon icon-cogs "><use xlink:href="symbol-defs.svg#icon-cogs"></use></svg>
</a>
    
    
    <button class="modal"><svg  class="icon icon-mindmap "><use xlink:href="symbol-defs.svg#icon-mindmap"></use></svg>
</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Uses</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="index.html#prop:perm-pow-reduce">Proposition 12</a></li>
          
        </ul>
    
      </div>
    </div>

    
    
    <button class="modal lean">L∃∀N</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/PowersOfPermutation.forall_exists_lt_perm_pow_eq_perm_pow" class="lean_decl">PowersOfPermutation.forall_exists_lt_perm_pow_eq_perm_pow</a></li>
          
        </ul>
    
      </div>
    </div>

    
        </div>
  </div>
  <div class="proposition_thmcontent">
  <p>   Let \(\pi \) be a permutation such that \(\pi ^{n + 1}(x) = x\) for some \(n \in \mathbb {N}\). Then for any \(k \in \mathbb {Z}\) there exists an \(m \in [n + 1]\) such that: </p>
<div class="displaymath" id="a0000000038">
  \begin{equation*}  \pi ^k(x) = \pi ^m(x). \end{equation*}
</div>

  </div>
</div>
<div class="proof_wrapper" id="a0000000037">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">▶</span>
  </div>
  <div class="proof_content">
  <p>We use \(m = k \bmod (n + 1)\). We will apply Proposition&#160;<a href="index.html#prop:perm-pow-reduce">12</a>, which requires natural numbers, so we split the proof into cases based on whether \(k \geq 0\).<br />If \(k \geq 0\), we have: </p>
<div class="displaymath" id="a0000000039">
  \begin{equation*}  \pi ^k(x) = \pi ^{\lfloor \frac{k}{n + 1}\rfloor \cdot (n + 1) + (k \bmod (n + 1))}(x) = \pi ^m(x). \end{equation*}
</div>
<p> If \(k {\lt} 0\), we have: </p>
<div class="displaymath" id="a0000000040">
  \begin{equation*}  \pi ^k(x) = (\pi ^{-1})^{-k}(x) = (\pi ^{-1})^{\lfloor \frac{-k}{n + 1}\rfloor \cdot (n + 1) + (-k \bmod (n + 1))}(x) = (\pi ^{-1})^{-k \bmod (n + 1)}(x) = \pi ^{-(-k \bmod (n + 1))}(x). \end{equation*}
</div>
<p> If \(k \bmod (n + 1) = 0\), this is equal to \(\pi ^m(x)\).<br />Otherwise, we use \(\pi ^{n + 1}(x) = x\) to increment the power by \(n + 1\), making the expression equal to: </p>
<div class="displaymath" id="a0000000041">
  \begin{equation*}  \pi ^{n + 1 - (n + 1 - (k \bmod (n + 1)))}(x) = \pi ^m(x). \end{equation*}
</div>

  </div>
</div>
<p>For an array \(v\), we denote with \(v[x] = \top \) the array that is identical to \(v\) except that it is set to \(\top \) at index \(x\). We also denote \(S_n = S_{[n]}\). </p>
<p>We define a function that sets a boolean array indexed by \([n]\) at indices that are in the same cycle of a permutation \(\pi \in S_n\) as \(x \in [n]\) to \(\top \) and prove that it works correctly. </p>
<div class="definition_thmwrapper theorem-style-definition" id="def:visitCycle">
  <div class="definition_thmheading">
    <span class="definition_thmcaption">
    Definition
    </span>
    <span class="definition_thmlabel">14</span>
    <div class="thm_header_extras">

    
    ✓
        </div>
    <div class="thm_header_hidden_extras">

    <a class="icon proof" href="index.html#def:visitCycle">#</a>
    
    
    <button class="modal"><svg  class="icon icon-mindmap "><use xlink:href="symbol-defs.svg#icon-mindmap"></use></svg>
</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Uses</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="index.html#prop:exists-perm-pow">Proposition 11</a></li>
          
        </ul>
    
      </div>
    </div>

    
    
    <button class="modal lean">L∃∀N</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/ComputationNumberOfCycles.visitCycleAux" class="lean_decl">ComputationNumberOfCycles.visitCycleAux</a></li>
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/ComputationNumberOfCycles.visitCycle" class="lean_decl">ComputationNumberOfCycles.visitCycle</a></li>
          
        </ul>
    
      </div>
    </div>

    
        </div>
  </div>
  <div class="definition_thmcontent">
  <p>   Let \(n \in \mathbb {N}\), \(\pi \in S_n\), \(x, y \in [n]\) and \(v\) be a boolean array indexed by \([n]\).<br />The function <em>visitCycleAux</em> takes \(v\) and a proof of \(\exists m \in \mathbb {N}, \pi ^{m + 1}(x) = y\). It returns an array that is identical to \(v\) except that it is set to \(\top \) at all indices in \(\{ x, \pi (x), \pi ^2(x), \dots , \pi ^{-1}(y)\} \). The function works by recursively calling itself with \(v := (v[x] = \top ), x := \pi (x)\) until it reaches \(\pi (x) = y\), then it returns \(v[x] = \top \). The proof ensures termination by guaranteeing that \(\pi (x) = y\) will eventually hold.<br />The function <em>visitCycle</em> takes \(\pi , x, v\), and returns an array identical to \(v\) except that it is set to \(\top \) at all indices that are in the same cycle of \(\pi \) as \(x\). It uses <em>visitCycleAux</em> with \(y = x\) and a proof of \(\exists m, \pi ^{m + 1}(x) = x\) from Proposition&#160;<a href="index.html#prop:exists-perm-pow">11</a>. </p>

  </div>
</div>
<div class="proposition_thmwrapper theorem-style-plain" id="prop:visitCycleAux-get!-true-of-get!-true">
  <div class="proposition_thmheading">
    <span class="proposition_thmcaption">
    Proposition
    </span>
    <span class="proposition_thmlabel">15</span>
    <div class="thm_header_extras">

    
    ✓
        </div>
    <div class="thm_header_hidden_extras">

    <a class="icon proof" href="index.html#prop:visitCycleAux-get!-true-of-get!-true">#</a>
    
    <a class="icon proof" href="index.html#a0000000042"><svg  class="icon icon-cogs "><use xlink:href="symbol-defs.svg#icon-cogs"></use></svg>
</a>
    
    
    <button class="modal"><svg  class="icon icon-mindmap "><use xlink:href="symbol-defs.svg#icon-mindmap"></use></svg>
</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Uses</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="index.html#def:visitCycle">Definition 14</a></li>
          
        </ul>
    
      </div>
    </div>

    
    
    <button class="modal lean">L∃∀N</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/ComputationNumberOfCycles.visitCycleAux_get!_true_of_get!_true" class="lean_decl">ComputationNumberOfCycles.visitCycleAux_get!_true_of_get!_true</a></li>
          
        </ul>
    
      </div>
    </div>

    
        </div>
  </div>
  <div class="proposition_thmcontent">
  <p>   The function <em>visitCycleAux</em> given \(v, (\exists m \in \mathbb {N}, \pi ^{m + 1}(x) = y)\) returns an array that is set to \(\top \) at all entries where \(v\) is set to \(\top \). </p>

  </div>
</div>
<div class="proof_wrapper" id="a0000000042">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">▶</span>
  </div>
  <div class="proof_content">
  <p>We prove this by induction on \(m\).<br />If \(m = 0\), then \(\pi (x) = y\) is reached immediately and the function returns \(v[x] = \top \).<br />Otherwise the function recursively calls itself with \(v' := (v[x] = \top ), x := \pi (x)\). Since \(m\) satisfies \(\pi ^m(\pi (x)) = y\), the recursive call will result in an array that is set to \(\top \) at all entires where \(v'\) is set to \(\top \) by inductive hypothesis. Thus the returned array is set to \(\top \) at all entries where \(v\) is set to \(\top \). </p>

  </div>
</div>
<div class="proposition_thmwrapper theorem-style-plain" id="prop:visitCycleAux-spec">
  <div class="proposition_thmheading">
    <span class="proposition_thmcaption">
    Proposition
    </span>
    <span class="proposition_thmlabel">16</span>
    <div class="thm_header_extras">

    
    ✓
        </div>
    <div class="thm_header_hidden_extras">

    <a class="icon proof" href="index.html#prop:visitCycleAux-spec">#</a>
    
    <a class="icon proof" href="index.html#a0000000043"><svg  class="icon icon-cogs "><use xlink:href="symbol-defs.svg#icon-cogs"></use></svg>
</a>
    
    
    <button class="modal"><svg  class="icon icon-mindmap "><use xlink:href="symbol-defs.svg#icon-mindmap"></use></svg>
</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Uses</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="index.html#prop:visitCycleAux-get!-true-of-get!-true">Proposition 15</a></li>
          
          <li><a href="index.html#def:visitCycle">Definition 14</a></li>
          
        </ul>
    
      </div>
    </div>

    
    
    <button class="modal lean">L∃∀N</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/ComputationNumberOfCycles.visitCycleAux_spec" class="lean_decl">ComputationNumberOfCycles.visitCycleAux_spec</a></li>
          
        </ul>
    
      </div>
    </div>

    
        </div>
  </div>
  <div class="proposition_thmcontent">
  <p>   Let \(m \in \mathbb {N}\) be the smallest number satisfying \(\pi ^{m + 1}(x) = y\). Then <em>visitCycleAux</em> given \(v, (\exists k \in \mathbb {N}, \pi ^{k + 1}(x) = y)\) returns an array that: </p>
<ul class="itemize">
  <li><p>is identical to \(v\) at all indices not in the same cycle as \(x\), </p>
</li>
  <li><p>is set to \(\top \) at all indices in \(\{ x, \pi (x), \pi ^2(x), \dots , \pi ^m(x)\} \), </p>
</li>
  <li><p>has the same size as \(v\). </p>
</li>
</ul>

  </div>
</div>
<div class="proof_wrapper" id="a0000000043">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">▶</span>
  </div>
  <div class="proof_content">
  <p>This is proven by induction on \(m\).<br />If \(m = 0\) then \(\pi (x) = y\) is reached immediately and the function returns \(v[x] = \top \).<br />Otherwise the function recursively calls itself with \(v' := (v[x] = \top ), x := \pi (x)\). Since \(m\) is the smallest number satisfying \(\pi ^m(\pi (x)) = y\), the recursive call will result in an array that: </p>
<ul class="itemize">
  <li><p>is identical to the input array at all indices not in the same cycle as \(\pi (x)\) (and therefore also at all indices not in the same cycle as \(x\)), </p>
</li>
  <li><p>is set to \(\top \) at \(\{ \pi (x), \pi ^2(x), \dots , \pi ^m(x)\} \), </p>
</li>
  <li><p>has the same size as \(v'\) (and therefore also as \(v\)). </p>
</li>
</ul>
<p> Since \(v'\) is set to \(\top \) at \(x\) and the function can never change any entry in the array from \(\top \) to \(\bot \) by Proposition&#160;<a href="index.html#prop:visitCycleAux-get!-true-of-get!-true">15</a>, the resulting array is still set to \(\top \) at \(x\). Thus it is set to \(\top \) at all indices in \(\{ x, \pi (x), \pi ^2(x), \dots , \pi ^m(x)\} \). </p>

  </div>
</div>
<div class="proposition_thmwrapper theorem-style-plain" id="prop:visitCycle-spec">
  <div class="proposition_thmheading">
    <span class="proposition_thmcaption">
    Proposition
    </span>
    <span class="proposition_thmlabel">17</span>
    <div class="thm_header_extras">

    
    ✓
        </div>
    <div class="thm_header_hidden_extras">

    <a class="icon proof" href="index.html#prop:visitCycle-spec">#</a>
    
    <a class="icon proof" href="index.html#a0000000044"><svg  class="icon icon-cogs "><use xlink:href="symbol-defs.svg#icon-cogs"></use></svg>
</a>
    
    
    <button class="modal"><svg  class="icon icon-mindmap "><use xlink:href="symbol-defs.svg#icon-mindmap"></use></svg>
</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Uses</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="index.html#prop:visitCycleAux-spec">Proposition 16</a></li>
          
          <li><a href="index.html#def:visitCycle">Definition 14</a></li>
          
          <li><a href="index.html#prop:forall-exists-lt-perm-pow-eq-perm-pow">Proposition 13</a></li>
          
          <li><a href="index.html#prop:exists-perm-pow">Proposition 11</a></li>
          
        </ul>
    
      </div>
    </div>

    
    
    <button class="modal lean">L∃∀N</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/ComputationNumberOfCycles.visitCycle_spec" class="lean_decl">ComputationNumberOfCycles.visitCycle_spec</a></li>
          
        </ul>
    
      </div>
    </div>

    
        </div>
  </div>
  <div class="proposition_thmcontent">
  <p>   The function <em>visitCycle</em> given \(\pi , x, v\) returns an array identical to \(v\), except that it is set to \(\top \) at all indices that are in the same cycle of \(\pi \) as \(x\). </p>

  </div>
</div>
<div class="proof_wrapper" id="a0000000044">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">▶</span>
  </div>
  <div class="proof_content">
  <p>Let \(m \in \mathbb {N}\) be the smallest number satisfying \(\pi ^{m + 1}(x) = x\).<br /><em>visitCycle</em> calls <em>visitCycleAux</em> to return an array that is: </p>
<ul class="itemize">
  <li><p>identical to the input array at all indices not in the same cycle as \(x\), </p>
</li>
  <li><p>set to \(\top \) at all indices in \(\{ x, \pi (x), \pi ^2(x), \dots , \pi ^m(x)\} \), </p>
</li>
  <li><p>of the same size as the input array. </p>
</li>
</ul>
<p> By Proposition&#160;<a href="index.html#prop:forall-exists-lt-perm-pow-eq-perm-pow">13</a>, all elements that are in the same cycle as \(x\) satisfy \(y = \pi ^l(x)\) for some \(0 \leq l {\lt} m + 1\). Thus the set \(\{ x, \pi (x), \pi ^2(x), \dots , \pi ^m(x)\} \) contains exactly all the elements that are in the same cycle of \(\pi \) as \(x\). </p>

  </div>
</div>
<p>We define a function that computes the number of cycles of any permutation on \([n]\) and prove that it works correctly. </p>
<div class="definition_thmwrapper theorem-style-definition" id="def:computeNumCyclesOfPerm">
  <div class="definition_thmheading">
    <span class="definition_thmcaption">
    Definition
    </span>
    <span class="definition_thmlabel">18</span>
    <div class="thm_header_extras">

    
    ✓
        </div>
    <div class="thm_header_hidden_extras">

    <a class="icon proof" href="index.html#def:computeNumCyclesOfPerm">#</a>
    
    
    <button class="modal"><svg  class="icon icon-mindmap "><use xlink:href="symbol-defs.svg#icon-mindmap"></use></svg>
</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Uses</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="index.html#def:visitCycle">Definition 14</a></li>
          
        </ul>
    
      </div>
    </div>

    
    
    <button class="modal lean">L∃∀N</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/ComputationNumberOfCycles.computeNumCyclesOfPermAux" class="lean_decl">ComputationNumberOfCycles.computeNumCyclesOfPermAux</a></li>
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/ComputationNumberOfCycles.computeNumCyclesOfPerm" class="lean_decl">ComputationNumberOfCycles.computeNumCyclesOfPerm</a></li>
          
        </ul>
    
      </div>
    </div>

    
        </div>
  </div>
  <div class="definition_thmcontent">
  <p>   Let \(n, i, c \in \mathbb {N}\), \(\pi \in S_n\) and \(v\) be some boolean array indexed by \([n]\).<br />The function <em>computeNumCyclesOfPermAux</em> takes \(\pi , v, c\) and a proof that \(i \leq n\). It iterates over \(j \in [i - 1, \dots , 0]\) and if \(v[j] = \bot \) it increments \(c\) by \(1\) and sets \(v\) to \(\top \) at all indices that are in the same cycle as \(j\) with the <em>visitCycle</em> function. Then it returns updated \(c\).<br />The function <em>computeNumCyclesOfPerm</em> takes \(\pi \) and returns its number of cycles. It uses <em>computeNumCyclesOfPermAux</em> with \(i = n, v = \text{constant }\bot \text{ array of length n}, c = 0\). </p>

  </div>
</div>
<div class="proposition_thmwrapper theorem-style-plain" id="prop:computeNumCyclesOfPermAux-exists-representatives">
  <div class="proposition_thmheading">
    <span class="proposition_thmcaption">
    Proposition
    </span>
    <span class="proposition_thmlabel">19</span>
    <div class="thm_header_extras">

    
    ✓
        </div>
    <div class="thm_header_hidden_extras">

    <a class="icon proof" href="index.html#prop:computeNumCyclesOfPermAux-exists-representatives">#</a>
    
    <a class="icon proof" href="index.html#a0000000045"><svg  class="icon icon-cogs "><use xlink:href="symbol-defs.svg#icon-cogs"></use></svg>
</a>
    
    
    <button class="modal"><svg  class="icon icon-mindmap "><use xlink:href="symbol-defs.svg#icon-mindmap"></use></svg>
</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Uses</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="index.html#def:computeNumCyclesOfPerm">Definition 18</a></li>
          
          <li><a href="index.html#prop:visitCycle-spec">Proposition 17</a></li>
          
        </ul>
    
      </div>
    </div>

    
    
    <button class="modal lean">L∃∀N</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/ComputationNumberOfCycles.computeNumCyclesOfPermAux_exists_representatives" class="lean_decl">ComputationNumberOfCycles.computeNumCyclesOfPermAux_exists_representatives</a></li>
          
        </ul>
    
      </div>
    </div>

    
        </div>
  </div>
  <div class="proposition_thmcontent">
  <p>   Let \(\pi \in S_n\), \(v\) be a boolean array that is set to \(\top \) at exactly those indices that are in the same cycle of \(\pi \) as some element in \(\{ i, \dots , n - 1\} \) and \(c\) be the cardinality of some set \(S\) of representatives of those cycles of \(\pi \) that contain some element in \(\{ i, \dots , n - 1\} \).<br />Then <em>computeNumCyclesOfPermAux</em> given \(\pi , v, c\) returns the cardinality of some set of cycle representatives of \(\pi \). </p>

  </div>
</div>
<div class="proof_wrapper" id="a0000000045">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">▶</span>
  </div>
  <div class="proof_content">
  <p>This is proven by induction on \(i\).<br />If \(i = 0\) then the function returns \(c\), which is already the cardinality of some set of representatives of cycles of \(\pi \) by assumption.<br />Otherwise the function checks whether \(v[i - 1] = \top \). </p>
<ul class="itemize">
  <li><p>If \(v[i - 1] = \top \), then \(i - 1\) must be in the same cycle as one of the elements in \(\{ i, \dots , n - 1\} \). So \(v\) is already set to \(\top \) at exactly those indices that are in the same cycle of \(\pi \) as some element in \(\{ i - 1, \dots , n - 1\} \) and \(c\) is already equal to the cardinality of some set of representatives of those cycles of \(\pi \) that contain some element in \(\{ i - 1, \dots , n - 1\} \). Therefore we can use inductive hypothesis to conclude that the function returns the cardinality of some set of representatives of cycles of \(\pi \). </p>
</li>
  <li><p>If \(v[i - 1] = \bot \), then \(i - 1\) must be in some cycle whose elements do not appear in \(\{ i, \dots , n - 1\} \). The function increments \(c\) by \(1\) and sets \(v\) at indices that are in the same cycle as \(i - 1\) to \(\top \). Now \(v\) is set to \(\top \) at exactly those indices that are in the same cycle of \(\pi \) as some element in \(\{ i - 1, \dots , n - 1\} \) and \(c\) is now equal to the cardinality of \(S \cup \{ i - 1\} \) which is the set or representatives of those cycles of \(\pi \) that contain some element in \(\{ i - 1, \dots , n - 1\} \). We can therefore use the inductive hypothesis to conclude that the function returns the cardinality of some set of representatives of cycles of \(\pi \). </p>
</li>
</ul>

  </div>
</div>
<div class="proposition_thmwrapper theorem-style-plain" id="prop:computeNumCyclesOfPerm-exists-representatives">
  <div class="proposition_thmheading">
    <span class="proposition_thmcaption">
    Proposition
    </span>
    <span class="proposition_thmlabel">20</span>
    <div class="thm_header_extras">

    
    ✓
        </div>
    <div class="thm_header_hidden_extras">

    <a class="icon proof" href="index.html#prop:computeNumCyclesOfPerm-exists-representatives">#</a>
    
    <a class="icon proof" href="index.html#a0000000046"><svg  class="icon icon-cogs "><use xlink:href="symbol-defs.svg#icon-cogs"></use></svg>
</a>
    
    
    <button class="modal"><svg  class="icon icon-mindmap "><use xlink:href="symbol-defs.svg#icon-mindmap"></use></svg>
</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Uses</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="index.html#def:computeNumCyclesOfPerm">Definition 18</a></li>
          
          <li><a href="index.html#prop:computeNumCyclesOfPermAux-exists-representatives">Proposition 19</a></li>
          
        </ul>
    
      </div>
    </div>

    
    
    <button class="modal lean">L∃∀N</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/ComputationNumberOfCycles.computeNumCyclesOfPerm_exists_representatives" class="lean_decl">ComputationNumberOfCycles.computeNumCyclesOfPerm_exists_representatives</a></li>
          
        </ul>
    
      </div>
    </div>

    
        </div>
  </div>
  <div class="proposition_thmcontent">
  <p>   The function <em>computeNumCyclesOfPerm</em> given \(\pi \) computes the cardinality of some set of representatives of cycles of \(\pi \) - that is a set that contains exactly one element from every cycle of \(\pi \). </p>

  </div>
</div>
<div class="proof_wrapper" id="a0000000046">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">▶</span>
  </div>
  <div class="proof_content">
  <p>The function <em>computeNumCyclesOfPerm</em> given \(\pi \) returns the result of <em>computeNumCyclesOfPermAux</em> given </p>
<div class="displaymath" id="a0000000047">
  \begin{equation*}  i = n, \quad v = \text{constant } \bot \text{ array of length } n, \quad c = 0. \end{equation*}
</div>
<p> The result follows from Proposition&#160;<a href="index.html#prop:computeNumCyclesOfPermAux-exists-representatives">19</a> with \(S = \emptyset \). </p>

  </div>
</div>
<div class="proposition_thmwrapper theorem-style-plain" id="prop:computeNumCyclesOfPerm-eq-numCyclesOfPerm">
  <div class="proposition_thmheading">
    <span class="proposition_thmcaption">
    Proposition
    </span>
    <span class="proposition_thmlabel">21</span>
    <div class="thm_header_extras">

    
    ✓
        </div>
    <div class="thm_header_hidden_extras">

    <a class="icon proof" href="index.html#prop:computeNumCyclesOfPerm-eq-numCyclesOfPerm">#</a>
    
    <a class="icon proof" href="index.html#a0000000048"><svg  class="icon icon-cogs "><use xlink:href="symbol-defs.svg#icon-cogs"></use></svg>
</a>
    
    
    <button class="modal"><svg  class="icon icon-mindmap "><use xlink:href="symbol-defs.svg#icon-mindmap"></use></svg>
</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Uses</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="index.html#prop:computeNumCyclesOfPerm-exists-representatives">Proposition 20</a></li>
          
          <li><a href="index.html#def:computeNumCyclesOfPerm">Definition 18</a></li>
          
          <li><a href="index.html#prop:numCyclesOfPerm-eq-card">Proposition 10</a></li>
          
          <li><a href="index.html#def:numCyclesOfPerm">Definition 9</a></li>
          
        </ul>
    
      </div>
    </div>

    
    
    <button class="modal lean">L∃∀N</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/ComputationNumberOfCycles.computeNumCyclesOfPerm_eq_numCyclesOfPerm" class="lean_decl">ComputationNumberOfCycles.computeNumCyclesOfPerm_eq_numCyclesOfPerm</a></li>
          
        </ul>
    
      </div>
    </div>

    
        </div>
  </div>
  <div class="proposition_thmcontent">
  <p>   The function <em>computeNumCyclesOfPerm</em> given \(\pi \) computes the number of cycles of \(\pi \). </p>

  </div>
</div>
<div class="proof_wrapper" id="a0000000048">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">▶</span>
  </div>
  <div class="proof_content">
  <p>By Proposition&#160;<a href="index.html#prop:computeNumCyclesOfPerm-exists-representatives">20</a>, <em>computeNumCyclesOfPerm</em> returns the cardinality of some set of representatives of cycles of \(\pi \). By Proposition&#160;<a href="index.html#prop:numCyclesOfPerm-eq-card">10</a> this cardinality is equal to the number of cycles of \(\pi \). </p>

  </div>
</div>
<p>Renaming the elements of \(X\) using a bijection \(\phi : X \to [|X|]\) does not change the number of distinct colorings. </p>
<div class="proposition_thmwrapper theorem-style-plain" id="prop:MulActionFin">
  <div class="proposition_thmheading">
    <span class="proposition_thmcaption">
    Proposition
    </span>
    <span class="proposition_thmlabel">22</span>
    <div class="thm_header_extras">

    
    ✓
        </div>
    <div class="thm_header_hidden_extras">

    <a class="icon proof" href="index.html#prop:MulActionFin">#</a>
    
    <a class="icon proof" href="index.html#a0000000049"><svg  class="icon icon-cogs "><use xlink:href="symbol-defs.svg#icon-cogs"></use></svg>
</a>
    
    
    
    <button class="modal lean">L∃∀N</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/ReductionToFin.MulActionFin" class="lean_decl">ReductionToFin.MulActionFin</a></li>
          
        </ul>
    
      </div>
    </div>

    
        </div>
  </div>
  <div class="proposition_thmcontent">
  <p>  Given a group action of \(G\) on \(X\), we can define an induced group action of \(G\) on \([|X|]\) with: </p>
<div class="displaymath" id="a0000000050">
  \begin{equation*}  g \cdot i = \phi (g \cdot \phi ^{-1}(i)). \end{equation*}
</div>

  </div>
</div>
<div class="proof_wrapper" id="a0000000049">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">▶</span>
  </div>
  <div class="proof_content">
  
<div class="displaymath" id="a0000000051">
  \begin{gather*}  1 \cdot i = \phi (1 \cdot \phi ^{-1}(i)) = \phi (\phi ^{-1}(1^{-1} \cdot i)) = i, \\ g \cdot (h \cdot i) = \phi (g \cdot \phi ^{-1}(\phi (h \cdot \phi ^{-1}(i)))) = \phi (g \cdot (h \cdot \phi ^{-1}(i))) = \phi ((gh) \cdot \phi ^{-1}(i)) = (gh) \cdot i. \end{gather*}
</div>

  </div>
</div>
<div class="proposition_thmwrapper theorem-style-plain" id="prop:numDistinctColorings-eq-numDistinctColorings-of-Fin">
  <div class="proposition_thmheading">
    <span class="proposition_thmcaption">
    Proposition
    </span>
    <span class="proposition_thmlabel">23</span>
    <div class="thm_header_extras">

    
    ✓
        </div>
    <div class="thm_header_hidden_extras">

    <a class="icon proof" href="index.html#prop:numDistinctColorings-eq-numDistinctColorings-of-Fin">#</a>
    
    <a class="icon proof" href="index.html#a0000000052"><svg  class="icon icon-cogs "><use xlink:href="symbol-defs.svg#icon-cogs"></use></svg>
</a>
    
    
    <button class="modal"><svg  class="icon icon-mindmap "><use xlink:href="symbol-defs.svg#icon-mindmap"></use></svg>
</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Uses</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="index.html#prop:MulActionFin">Proposition 22</a></li>
          
          <li><a href="index.html#def:numDistinctColorings">Definition 2</a></li>
          
          <li><a href="index.html#prop:MulActionColorings">Proposition 1</a></li>
          
        </ul>
    
      </div>
    </div>

    
    
    <button class="modal lean">L∃∀N</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/ReductionToFin.equiv_of_quotient_of_quotient_Fin" class="lean_decl">ReductionToFin.equiv_of_quotient_of_quotient_Fin</a></li>
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/ReductionToFin.numDistinctColorings_eq_numDistinctColorings_of_Fin" class="lean_decl">ReductionToFin.numDistinctColorings_eq_numDistinctColorings_of_Fin</a></li>
          
        </ul>
    
      </div>
    </div>

    
        </div>
  </div>
  <div class="proposition_thmcontent">
  <p>   The number of distinct colorings of \(X\) with colors in \(Y\) under the group action of \(G\) on \(X\) is equal to the number of distinct colorings of \([|X|]\) with colors in \(Y\) under the induced group action of \(G\) on \([|X|]\). </p>

  </div>
</div>
<div class="proof_wrapper" id="a0000000052">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">▶</span>
  </div>
  <div class="proof_content">
  <p>We define the bijection: </p>
<div class="displaymath" id="a0000000053">
  \begin{equation*}  \varphi : Y^X/G \to Y^{[|X|]}/G, \quad [f] \mapsto [f \circ \phi ^{-1}] \end{equation*}
</div>
<p> with inverse </p>
<div class="displaymath" id="a0000000054">
  \begin{equation*}  \varphi ^{-1} : Y^{[|X|]}/G \to Y^X/G, \quad [f] \mapsto [f \circ \phi ]. \end{equation*}
</div>
<p> These are well-defined, since for any \(f, h \in Y^X\) with \(f = g \cdot h\), we have: </p>
<div class="displaymath" id="a0000000055">
  \begin{align*}  (f \circ \phi ^{-1}) & = (g \cdot h) \circ \phi ^{-1} \\ & = (x \mapsto h(g^{-1} \cdot x)) \circ \phi ^{-1} \\ & = i \mapsto h(g^{-1} \cdot \phi ^{-1}(i)) \\ & = i \mapsto h(\phi ^{-1}(\phi (g^{-1} \cdot \phi ^{-1}(i)))) \\ & = i \mapsto ((h \circ \phi ^{-1})(g^{-1} \cdot i)) \\ & = g \cdot (h \circ \phi ^{-1}). \end{align*}
</div>
<p> and similarly for any \(f, h \in Y^{[|X|]}\) such that \(f = g \cdot h\), we have: </p>
<div class="displaymath" id="a0000000056">
  \begin{equation*}  f \circ \phi = g \cdot (h \circ \phi ). \end{equation*}
</div>
<p> Since \(\varphi \) and \(\varphi ^{-1}\) are mutual inverses, it follows that </p>
<div class="displaymath" id="a0000000057">
  \begin{equation*}  |Y^X/G| = |Y^{[|X|]}/G|. \end{equation*}
</div>

  </div>
</div>
<p>We now define a function that computes the number of distinct colorings using <em>Pólya’s enumeration theorem</em> and prove its correctness. </p>
<div class="proposition_thmwrapper theorem-style-plain" id="def:computeNumDistinctColorings">
  <div class="proposition_thmheading">
    <span class="proposition_thmcaption">
    Proposition
    </span>
    <span class="proposition_thmlabel">24</span>
    <div class="thm_header_extras">

    
    ✓
        </div>
    <div class="thm_header_hidden_extras">

    <a class="icon proof" href="index.html#def:computeNumDistinctColorings">#</a>
    
    <a class="icon proof" href="index.html#a0000000058"><svg  class="icon icon-cogs "><use xlink:href="symbol-defs.svg#icon-cogs"></use></svg>
</a>
    
    
    <button class="modal"><svg  class="icon icon-mindmap "><use xlink:href="symbol-defs.svg#icon-mindmap"></use></svg>
</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Uses</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="index.html#prop:numDistinctColorings-eq-numDistinctColorings-of-Fin">Proposition 23</a></li>
          
          <li><a href="index.html#prop:MulActionFin">Proposition 22</a></li>
          
          <li><a href="index.html#prop:computeNumCyclesOfPerm-eq-numCyclesOfPerm">Proposition 21</a></li>
          
          <li><a href="index.html#def:computeNumCyclesOfPerm">Definition 18</a></li>
          
          <li><a href="index.html#prop:numDistinctColorings-eq-sum-card-pow-numCyclesOfGroup-div-mul-card-group">Theorem 7</a></li>
          
          <li><a href="index.html#def:numDistinctColorings">Definition 2</a></li>
          
          <li><a href="index.html#prop:MulActionColorings">Proposition 1</a></li>
          
        </ul>
    
      </div>
    </div>

    
    
    <button class="modal lean">L∃∀N</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/ComputationNumberOfDistinctColorings.computeNumDistinctColorings" class="lean_decl">ComputationNumberOfDistinctColorings.computeNumDistinctColorings</a></li>
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/ComputationNumberOfDistinctColorings.computeNumDistinctColorings_eq_numDistinctColorings" class="lean_decl">ComputationNumberOfDistinctColorings.computeNumDistinctColorings_eq_numDistinctColorings</a></li>
          
        </ul>
    
      </div>
    </div>

    
        </div>
  </div>
  <div class="proposition_thmcontent">
  <p>   The function <em>computeNumDistinctColorings</em> computes the number of distinct colorings of \(X\) with colors in \(Y\) under the group action of \(G\). It uses <em>Pólya’s enumeration theorem</em> and the function <em>computeNumCyclesOfPerm</em> to count cycles of permutations: </p>
<div class="displaymath" id="a0000000059">
  \begin{equation*}  |Y^X/G| = \frac{1}{|G|} \sum _{g \in G} |Y|^{\textit{computeNumCyclesOfPerm} (\phi \circ \pi _g \circ \phi ^{-1})}. \end{equation*}
</div>

  </div>
</div>
<div class="proof_wrapper" id="a0000000058">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">▶</span>
  </div>
  <div class="proof_content">
  <p>By Proposition&#160;<a href="index.html#prop:numDistinctColorings-eq-numDistinctColorings-of-Fin">23</a>, we rewrite \(|Y^X/G| = |Y^{[|X|]}/G|\). The result then follows from <em>Pólya’s enumeration theorem</em> (Proposition&#160;<a href="index.html#prop:numDistinctColorings-eq-sum-card-pow-numCyclesOfGroup-div-mul-card-group">7</a>) and the correctness of <em>computeNumCyclesOfPerm</em> (Proposition&#160;<a href="index.html#prop:computeNumCyclesOfPerm-eq-numCyclesOfPerm">21</a>). </p>

  </div>
</div>
<h1 id="a0000000060">5 Numbers of distinct colorings for some concrete examples</h1>
<h2 id="a0000000061">5.1 Trivial group</h2>
<p>The trivial group is a group that contains only a unit. Its group action is defined by \(1 \cdot x = x\). Since for any \(f \in Y^X\), we have \(1 \cdot f = f\), each coloring is only equivalent to itself. Thus, the number of distinct colorings is: </p>
<div class="proposition_thmwrapper theorem-style-plain" id="def:numDistinctColoringsOfTrivialGroup">
  <div class="proposition_thmheading">
    <span class="proposition_thmcaption">
    Proposition
    </span>
    <span class="proposition_thmlabel">25</span>
    <div class="thm_header_extras">

    
    ✓
        </div>
    <div class="thm_header_hidden_extras">

    <a class="icon proof" href="index.html#def:numDistinctColoringsOfTrivialGroup">#</a>
    
    <a class="icon proof" href="index.html#a0000000062"><svg  class="icon icon-cogs "><use xlink:href="symbol-defs.svg#icon-cogs"></use></svg>
</a>
    
    
    <button class="modal"><svg  class="icon icon-mindmap "><use xlink:href="symbol-defs.svg#icon-mindmap"></use></svg>
</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Uses</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="index.html#def:numDistinctColorings">Definition 2</a></li>
          
          <li><a href="index.html#prop:MulActionColorings">Proposition 1</a></li>
          
        </ul>
    
      </div>
    </div>

    
    
    <button class="modal lean">L∃∀N</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/TrivialGroup.numDistinctColoringsOfTrivialGroup" class="lean_decl">TrivialGroup.numDistinctColoringsOfTrivialGroup</a></li>
          
        </ul>
    
      </div>
    </div>

    
        </div>
  </div>
  <div class="proposition_thmcontent">
  
<div class="displaymath" id="a0000000063">
  \begin{equation*}  |Y^X / \{ 1\} | = |Y|^{|X|}. \end{equation*}
</div>

  </div>
</div>
<div class="proof_wrapper" id="a0000000062">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">▶</span>
  </div>
  <div class="proof_content">
  <p>We define a bijection \(\varphi : Y^X/\{ 1\}  \to Y^X\) by: </p>
<div class="displaymath" id="a0000000064">
  \begin{equation*}  \varphi ([f]) = f, \quad \varphi ^{-1}(f) = [f]. \end{equation*}
</div>
<p> This is well-defined since: </p>
<div class="displaymath" id="a0000000065">
  \begin{equation*}  [f] = [h] \implies f = 1 \cdot h = h. \end{equation*}
</div>
<p> It follows that: </p>
<div class="displaymath" id="a0000000066">
  \begin{equation*}  |Y^X/\{ 1\} | = |Y^X| = |Y|^{|X|}. \end{equation*}
</div>
<p>Alternatively, we can derive the result using <em>Pólya’s enumeration theorem</em>: </p>
<div class="displaymath" id="a0000000067">
  \begin{equation*}  |Y^X/\{ 1\} | = \frac{1}{|\{ 1\} |} \sum _{g \in \{ 1\} } |Y|^{c(g)} = |Y|^{|X|}. \end{equation*}
</div>
<p> We used the fact that \(1\) has \(|X|\) cycles. </p>

  </div>
</div>
<h2 id="a0000000068">5.2 Necklaces</h2>
<p>For \(n \geq 1\) we interpret the elements of the group \(\mathbb {Z}_n\) as \(n\) beads of a necklace, where \(x \in \mathbb {Z}_n\) is connected with \(x + 1\) and \(x - 1\) (computed in \(\mathbb {Z}_n\)). Necklaces can be rotated, but not reflected. The elements of the group \(\mathbb {Z}_n\) are also interpreted as rotations of the necklace, where \(i \in \mathbb {Z}_n\) rotates the necklace by \(\frac{2\pi i}{n}\). This defines a group action of \(\mathbb {Z}_n\) on itself with \(i \cdot x = i + x\) (computed in \(\mathbb {Z}_n\)). </p>
<div class="definition_thmwrapper theorem-style-definition" id="def:numDistinctColoringsOfNecklace">
  <div class="definition_thmheading">
    <span class="definition_thmcaption">
    Definition
    </span>
    <span class="definition_thmlabel">26</span>
    <div class="thm_header_extras">

    
    ✓
        </div>
    <div class="thm_header_hidden_extras">

    <a class="icon proof" href="index.html#def:numDistinctColoringsOfNecklace">#</a>
    
    
    <button class="modal"><svg  class="icon icon-mindmap "><use xlink:href="symbol-defs.svg#icon-mindmap"></use></svg>
</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Uses</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="index.html#def:numDistinctColorings">Definition 2</a></li>
          
        </ul>
    
      </div>
    </div>

    
    
    <button class="modal lean">L∃∀N</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/Necklaces.numDistinctColoringsOfNecklace" class="lean_decl">Necklaces.numDistinctColoringsOfNecklace</a></li>
          
        </ul>
    
      </div>
    </div>

    
        </div>
  </div>
  <div class="definition_thmcontent">
  <p>   For \(n \geq 1\), the <em>number of distinct colorings of a necklace with \(n\) beads and \(m\) colors</em> is given by: </p>
<div class="displaymath" id="a0000000069">
  \begin{equation*}  |[m]^{\mathbb {Z}_n}/\mathbb {Z}_n|. \end{equation*}
</div>
<p> For \(n = 0\), we define that there is a single coloring of a necklace with \(0\) beads. This is defined separately since we do not have a finite group \(\mathbb {Z}_0\). This definition is inspired by the fact that \(Y^\emptyset \) contains exactly one function. </p>

  </div>
</div>
<div class="proposition_thmwrapper theorem-style-plain" id="prop:computeNumDistinctColoringsOfNecklace-eq-numDistinctColoringsOfNecklace">
  <div class="proposition_thmheading">
    <span class="proposition_thmcaption">
    Proposition
    </span>
    <span class="proposition_thmlabel">27</span>
    <div class="thm_header_extras">

    
    ✓
        </div>
    <div class="thm_header_hidden_extras">

    <a class="icon proof" href="index.html#prop:computeNumDistinctColoringsOfNecklace-eq-numDistinctColoringsOfNecklace">#</a>
    
    <a class="icon proof" href="index.html#a0000000070"><svg  class="icon icon-cogs "><use xlink:href="symbol-defs.svg#icon-cogs"></use></svg>
</a>
    
    
    <button class="modal"><svg  class="icon icon-mindmap "><use xlink:href="symbol-defs.svg#icon-mindmap"></use></svg>
</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Uses</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="index.html#def:numDistinctColoringsOfNecklace">Definition 26</a></li>
          
          <li><a href="index.html#def:computeNumDistinctColorings">Proposition 24</a></li>
          
        </ul>
    
      </div>
    </div>

    
    
    <button class="modal lean">L∃∀N</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/Necklaces.computeNumDistinctColoringsOfNecklace" class="lean_decl">Necklaces.computeNumDistinctColoringsOfNecklace</a></li>
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/Necklaces.computeNumDistinctColoringsOfNecklace_eq_numDistinctColoringsOfNecklace" class="lean_decl">Necklaces.computeNumDistinctColoringsOfNecklace_eq_numDistinctColoringsOfNecklace</a></li>
          
        </ul>
    
      </div>
    </div>

    
        </div>
  </div>
  <div class="proposition_thmcontent">
  <p>   The number of distinct colorings of a necklace can be computed using the <em>computeNumDistinctColorings</em> function. </p>

  </div>
</div>
<div class="proof_wrapper" id="a0000000070">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">▶</span>
  </div>
  <div class="proof_content">
  <p>By Proposition&#160;<a href="index.html#def:computeNumDistinctColorings">24</a>. </p>

  </div>
</div>
<h2 id="a0000000071">5.3 Bracelets</h2>
<p>For \(n \geq 1\), we interpret the elements of the group \(\mathbb {Z}_n\) as \(n\) beads of a bracelet, where \(x \in \mathbb {Z}_n\) is connected with \(x + 1\) and \(x - 1\) (computed in \(\mathbb {Z}_n\)). Bracelets can be rotated and reflected. The dihedral group \(D_{2n}\) contains two types of elements: </p>
<ul class="itemize">
  <li><p>\(r_i\) for \(i \in \mathbb {Z}_n\), interpreted as a rotation of the bracelet by \(\frac{2\pi i}{n}\), </p>
</li>
  <li><p>\(sr_i\) for \(i \in \mathbb {Z}_n\), interpreted as a rotation of the bracelet by \(\frac{2\pi i}{n}\) followed by a reflection. </p>
</li>
</ul>
<p> This defines the following group action: </p>
<div class="definition_thmwrapper theorem-style-definition" id="def:MulActionBracelet">
  <div class="definition_thmheading">
    <span class="definition_thmcaption">
    Definition
    </span>
    <span class="definition_thmlabel">28</span>
    <div class="thm_header_extras">

    
    ✓
        </div>
    <div class="thm_header_hidden_extras">

    <a class="icon proof" href="index.html#def:MulActionBracelet">#</a>
    
    
    
    <button class="modal lean">L∃∀N</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/Bracelets.MulActionBracelet" class="lean_decl">Bracelets.MulActionBracelet</a></li>
          
        </ul>
    
      </div>
    </div>

    
        </div>
  </div>
  <div class="definition_thmcontent">
  <p>  The dihedral group \(D_{2n}\) acts on \(\mathbb {Z}_n\) with: </p>
<div class="displaymath" id="a0000000072">
  \begin{align*}  r_i \cdot x & = i + x, \\ sr_i \cdot x & = n - 1 - (i + x), \end{align*}
</div>
<p> computed in \(\mathbb {Z}_n\). </p>

  </div>
</div>
<div class="definition_thmwrapper theorem-style-definition" id="def:numDistinctColoringsOfBracelet">
  <div class="definition_thmheading">
    <span class="definition_thmcaption">
    Definition
    </span>
    <span class="definition_thmlabel">29</span>
    <div class="thm_header_extras">

    
    ✓
        </div>
    <div class="thm_header_hidden_extras">

    <a class="icon proof" href="index.html#def:numDistinctColoringsOfBracelet">#</a>
    
    
    <button class="modal"><svg  class="icon icon-mindmap "><use xlink:href="symbol-defs.svg#icon-mindmap"></use></svg>
</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Uses</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="index.html#def:MulActionBracelet">Definition 28</a></li>
          
          <li><a href="index.html#def:numDistinctColorings">Definition 2</a></li>
          
        </ul>
    
      </div>
    </div>

    
    
    <button class="modal lean">L∃∀N</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/Bracelets.numDistinctColoringsOfBracelet" class="lean_decl">Bracelets.numDistinctColoringsOfBracelet</a></li>
          
        </ul>
    
      </div>
    </div>

    
        </div>
  </div>
  <div class="definition_thmcontent">
  <p>   For \(n \geq 1\), the <em>number of distinct colorings of a bracelet with \(n\) beads and \(m\) colors</em> is given by: </p>
<div class="displaymath" id="a0000000073">
  \begin{equation*}  |[m]^{\mathbb {Z}_n}/D_{2n}|. \end{equation*}
</div>
<p> For \(n = 0\), we define that there is a single coloring of a bracelet with \(0\) beads. This is defined separately since we do not have a group \(D_{2\cdot 0}\). This definition is inspired by the fact that \(Y^\emptyset \) contains exactly one function. </p>

  </div>
</div>
<div class="proposition_thmwrapper theorem-style-plain" id="prop:computeNumDistinctColoringsOfBracelet-eq-numDistinctColoringsOfBracelet">
  <div class="proposition_thmheading">
    <span class="proposition_thmcaption">
    Proposition
    </span>
    <span class="proposition_thmlabel">30</span>
    <div class="thm_header_extras">

    
    ✓
        </div>
    <div class="thm_header_hidden_extras">

    <a class="icon proof" href="index.html#prop:computeNumDistinctColoringsOfBracelet-eq-numDistinctColoringsOfBracelet">#</a>
    
    <a class="icon proof" href="index.html#a0000000074"><svg  class="icon icon-cogs "><use xlink:href="symbol-defs.svg#icon-cogs"></use></svg>
</a>
    
    
    <button class="modal"><svg  class="icon icon-mindmap "><use xlink:href="symbol-defs.svg#icon-mindmap"></use></svg>
</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Uses</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="index.html#def:numDistinctColoringsOfBracelet">Definition 29</a></li>
          
          <li><a href="index.html#def:MulActionBracelet">Definition 28</a></li>
          
          <li><a href="index.html#def:computeNumDistinctColorings">Proposition 24</a></li>
          
        </ul>
    
      </div>
    </div>

    
    
    <button class="modal lean">L∃∀N</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/Bracelets.computeNumDistinctColoringsOfBracelet" class="lean_decl">Bracelets.computeNumDistinctColoringsOfBracelet</a></li>
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/Bracelets.computeNumDistinctColoringsOfBracelet_eq_numDistinctColoringsOfBracelet" class="lean_decl">Bracelets.computeNumDistinctColoringsOfBracelet_eq_numDistinctColoringsOfBracelet</a></li>
          
        </ul>
    
      </div>
    </div>

    
        </div>
  </div>
  <div class="proposition_thmcontent">
  <p>   The number of distinct colorings of a bracelet can be computed using the <em>computeNumDistinctColorings</em> function. </p>

  </div>
</div>
<div class="proof_wrapper" id="a0000000074">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">▶</span>
  </div>
  <div class="proof_content">
  <p>By Proposition&#160;<a href="index.html#def:computeNumDistinctColorings">24</a>. </p>

  </div>
</div>
<h2 id="a0000000075">5.4 Cube</h2>
<p>We interpret the elements of \([6]\) as \(6\) faces of the cube as follows: </p>
<ul class="itemize">
  <li><p>\(0\) is the face at the front, </p>
</li>
  <li><p>\(1\) is the face at the right, </p>
</li>
  <li><p>\(2\) is the face at the back, </p>
</li>
  <li><p>\(3\) is the face at the left, </p>
</li>
  <li><p>\(4\) is the face at the top, </p>
</li>
  <li><p>\(5\) is the face at the bottom. </p>
</li>
</ul>
<div class="definition_thmwrapper theorem-style-definition" id="def:rotationalSymmetriesOfCube">
  <div class="definition_thmheading">
    <span class="definition_thmcaption">
    Definition
    </span>
    <span class="definition_thmlabel">31</span>
    <div class="thm_header_extras">

    
    ✓
        </div>
    <div class="thm_header_hidden_extras">

    <a class="icon proof" href="index.html#def:rotationalSymmetriesOfCube">#</a>
    
    
    
    <button class="modal lean">L∃∀N</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/Cube.r" class="lean_decl">Cube.r</a></li>
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/Cube.s" class="lean_decl">Cube.s</a></li>
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/Cube.rotationalSymmetriesOfCube" class="lean_decl">Cube.rotationalSymmetriesOfCube</a></li>
          
        </ul>
    
      </div>
    </div>

    
        </div>
  </div>
  <div class="definition_thmcontent">
  <p>  We define two fundamental rotations of the cube: </p>
<ul class="itemize">
  <li><p>\(r = (0\  1\  2\  3)\): A rotation of the cube by \(\frac{\pi }{2}\) around the vertical axis passing through the centers of the top and bottom faces. The front face moves to the position of the right face. </p>
</li>
  <li><p>\(s = (1\  4\  3\  5)\): A rotation of the cube by \(\frac{\pi }{2}\) around the horizontal axis passing through the centers of the front and back faces. The right face moves to the position of the top face. </p>
</li>
</ul>
<p>The set of rotational symmetries of the cube is given by: </p>
<div class="displaymath" id="a0000000076">
  \begin{equation*}  S = \{ r^i \cdot s^j \mid i, j \in [4]\}  \cup \{ s^{2i + 1} \cdot r \cdot s^j \mid i \in [2], j \in [4]\} . \end{equation*}
</div>
<p> The reasoning is as follows: </p>
<ul class="itemize">
  <li><p>First, we apply \(s\) at most three times to set the position of face \(1\). </p>
</li>
  <li><p>Then, we move face \(0\) to any other position using appropriate rotations. To move \(0\) to one of the faces in \(\{ 0, 1, 2, 3\} \), we apply \(r\) the necessary number of times. To move \(0\) to \(4\) or \(5\), we first apply \(r\) once to move \(0\) to \(1\), then apply \(s\) either once or three times. </p>
</li>
</ul>
<p> Since we can move \(0\) to any position and \(1\) to any position adjacent to the new position of \(0\) (by applying \(s\) an appropriate amount of times in the beginning), this results in \(6 \times 4 = 24\) distinct rotational symmetries. Because the entire cube configuration is determined by the new positions of faces \(0\) and \(1\), we have all rotational symmetries of the cube. </p>

  </div>
</div>
<p>We need to prove that \(S\) is a subgroup of \(S_6\). While this can be proven with the <em>decide</em> tactic via brute force, Lean takes a long time to check such a proof. Therefore, we construct a more systematic proof. </p>
<div class="proposition_thmwrapper theorem-style-plain" id="prop:pow-add-val-eq-of-pow-eq-one">
  <div class="proposition_thmheading">
    <span class="proposition_thmcaption">
    Proposition
    </span>
    <span class="proposition_thmlabel">32</span>
    <div class="thm_header_extras">

    
    ✓
        </div>
    <div class="thm_header_hidden_extras">

    <a class="icon proof" href="index.html#prop:pow-add-val-eq-of-pow-eq-one">#</a>
    
    <a class="icon proof" href="index.html#a0000000077"><svg  class="icon icon-cogs "><use xlink:href="symbol-defs.svg#icon-cogs"></use></svg>
</a>
    
    
    
    <button class="modal lean">L∃∀N</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/Cube.pow_add_val_eq_of_pow_eq_one" class="lean_decl">Cube.pow_add_val_eq_of_pow_eq_one</a></li>
          
        </ul>
    
      </div>
    </div>

    
        </div>
  </div>
  <div class="proposition_thmcontent">
  <p>  Let \(M\) be a monoid. If \(m \in M\) satisfies \(m^n = 1\), then for any \(i, j \in [n]\), we have: </p>
<div class="displaymath" id="a0000000078">
  \begin{equation*}  m^{(i + j) \bmod n} = m^{i + j}. \end{equation*}
</div>

  </div>
</div>
<div class="proof_wrapper" id="a0000000077">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">▶</span>
  </div>
  <div class="proof_content">
  <p>If \(i + j {\lt} n\), the result follows immediately. Otherwise, since \(n \leq i + j {\lt} 2n\), we have: </p>
<div class="displaymath" id="a0000000079">
  \begin{equation*}  m^{i + j} = m^{i + j - n} \cdot m^n = m^{(i + j) \bmod n}. \end{equation*}
</div>

  </div>
</div>
<div class="proposition_thmwrapper theorem-style-plain" id="prop:mul_mem_rotationalSymmetriesOfCube">
  <div class="proposition_thmheading">
    <span class="proposition_thmcaption">
    Proposition
    </span>
    <span class="proposition_thmlabel">33</span>
    <div class="thm_header_extras">

    
    ✓
        </div>
    <div class="thm_header_hidden_extras">

    <a class="icon proof" href="index.html#prop:mul_mem_rotationalSymmetriesOfCube">#</a>
    
    <a class="icon proof" href="index.html#a0000000080"><svg  class="icon icon-cogs "><use xlink:href="symbol-defs.svg#icon-cogs"></use></svg>
</a>
    
    
    <button class="modal"><svg  class="icon icon-mindmap "><use xlink:href="symbol-defs.svg#icon-mindmap"></use></svg>
</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Uses</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="index.html#prop:pow-add-val-eq-of-pow-eq-one">Proposition 32</a></li>
          
          <li><a href="index.html#def:rotationalSymmetriesOfCube">Definition 31</a></li>
          
        </ul>
    
      </div>
    </div>

    
    
    <button class="modal lean">L∃∀N</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/Cube.r_mul_mem_rotationalSymmetriesOfCube" class="lean_decl">Cube.r_mul_mem_rotationalSymmetriesOfCube</a></li>
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/Cube.s_mul_mem_rotationalSymmetriesOfCube" class="lean_decl">Cube.s_mul_mem_rotationalSymmetriesOfCube</a></li>
          
        </ul>
    
      </div>
    </div>

    
        </div>
  </div>
  <div class="proposition_thmcontent">
  <p>   For all \(x \in S\), we have: </p>
<div class="displaymath" id="a0000000081">
  \begin{equation*}  r \cdot x \in S, \quad s \cdot x \in S. \end{equation*}
</div>

  </div>
</div>
<div class="proof_wrapper" id="a0000000080">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">▶</span>
  </div>
  <div class="proof_content">
  <p>For each \(x \in S\), we verify that the result remains in \(S\). </p>

  </div>
</div>
<div class="proposition_thmwrapper theorem-style-plain" id="prop:s-pow-r-pow-s-pow-mul-mem-rotationalSymmetriesOfCube">
  <div class="proposition_thmheading">
    <span class="proposition_thmcaption">
    Proposition
    </span>
    <span class="proposition_thmlabel">34</span>
    <div class="thm_header_extras">

    
    ✓
        </div>
    <div class="thm_header_hidden_extras">

    <a class="icon proof" href="index.html#prop:s-pow-r-pow-s-pow-mul-mem-rotationalSymmetriesOfCube">#</a>
    
    <a class="icon proof" href="index.html#a0000000082"><svg  class="icon icon-cogs "><use xlink:href="symbol-defs.svg#icon-cogs"></use></svg>
</a>
    
    
    <button class="modal"><svg  class="icon icon-mindmap "><use xlink:href="symbol-defs.svg#icon-mindmap"></use></svg>
</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Uses</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="index.html#prop:mul_mem_rotationalSymmetriesOfCube">Proposition 33</a></li>
          
          <li><a href="index.html#def:rotationalSymmetriesOfCube">Definition 31</a></li>
          
        </ul>
    
      </div>
    </div>

    
    
    <button class="modal lean">L∃∀N</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/Cube.s_pow_r_pow_s_pow_mul_mem_rotationalSymmetriesOfCube" class="lean_decl">Cube.s_pow_r_pow_s_pow_mul_mem_rotationalSymmetriesOfCube</a></li>
          
        </ul>
    
      </div>
    </div>

    
        </div>
  </div>
  <div class="proposition_thmcontent">
  <p>   For all \(x \in S\) and \(n, m, k \in \mathbb {N}\), we have: </p>
<div class="displaymath" id="a0000000083">
  \begin{equation*}  s^n \cdot r^m \cdot s^k \cdot x \in S. \end{equation*}
</div>

  </div>
</div>
<div class="proof_wrapper" id="a0000000082">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">▶</span>
  </div>
  <div class="proof_content">
  <p>By induction on \(k\). If \(k = 0\), we perform another induction on \(m\). If also \(m = 0\), we perform another induction on \(n\). If also \(n = 0\), then \(1 \cdot 1 \cdot 1 \cdot x \in S\). <br />All inductive steps are proven in the same manner, using Proposition&#160;<a href="index.html#prop:mul_mem_rotationalSymmetriesOfCube">33</a> to reduce an exponent by \(1\) and applying the inductive hypothesis. </p>

  </div>
</div>
<div class="proposition_thmwrapper theorem-style-plain" id="prop:RotationalSymmetriesOfCubeSubgroup">
  <div class="proposition_thmheading">
    <span class="proposition_thmcaption">
    Proposition
    </span>
    <span class="proposition_thmlabel">35</span>
    <div class="thm_header_extras">

    
    ✓
        </div>
    <div class="thm_header_hidden_extras">

    <a class="icon proof" href="index.html#prop:RotationalSymmetriesOfCubeSubgroup">#</a>
    
    <a class="icon proof" href="index.html#a0000000084"><svg  class="icon icon-cogs "><use xlink:href="symbol-defs.svg#icon-cogs"></use></svg>
</a>
    
    
    <button class="modal"><svg  class="icon icon-mindmap "><use xlink:href="symbol-defs.svg#icon-mindmap"></use></svg>
</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Uses</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="index.html#prop:s-pow-r-pow-s-pow-mul-mem-rotationalSymmetriesOfCube">Proposition 34</a></li>
          
          <li><a href="index.html#def:rotationalSymmetriesOfCube">Definition 31</a></li>
          
        </ul>
    
      </div>
    </div>

    
    
    <button class="modal lean">L∃∀N</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/Cube.RotationalSymmetriesOfCubeSubgroup" class="lean_decl">Cube.RotationalSymmetriesOfCubeSubgroup</a></li>
          
        </ul>
    
      </div>
    </div>

    
        </div>
  </div>
  <div class="proposition_thmcontent">
  <p>   \(S\) is a subgroup of \(S_6\). </p>

  </div>
</div>
<div class="proof_wrapper" id="a0000000084">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">▶</span>
  </div>
  <div class="proof_content">
  
<ul class="itemize">
  <li><p>\(x_1, x_2 \in S \implies x_1 \cdot x_2 = s^n \cdot r^m \cdot s^k \cdot x_1 \in S\) </p>
</li>
  <li><p>\(1 = r^0 \cdot s^0 \in S\) </p>
</li>
  <li><p>\(x \in S \implies x^{-1} = (s^n \cdot r^m \cdot s^k)^{-1} = (s^{-1})^k \cdot (r^{-1})^m \cdot (s^{-1})^n = s^{3k} \cdot r^{3m} \cdot s^{3n} \in S\) </p>
</li>
</ul>

  </div>
</div>
<div class="definition_thmwrapper theorem-style-definition" id="def:numDistinctColoringsOfCube">
  <div class="definition_thmheading">
    <span class="definition_thmcaption">
    Definition
    </span>
    <span class="definition_thmlabel">36</span>
    <div class="thm_header_extras">

    
    ✓
        </div>
    <div class="thm_header_hidden_extras">

    <a class="icon proof" href="index.html#def:numDistinctColoringsOfCube">#</a>
    
    
    <button class="modal"><svg  class="icon icon-mindmap "><use xlink:href="symbol-defs.svg#icon-mindmap"></use></svg>
</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Uses</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="index.html#prop:RotationalSymmetriesOfCubeSubgroup">Proposition 35</a></li>
          
          <li><a href="index.html#def:numDistinctColorings">Definition 2</a></li>
          
        </ul>
    
      </div>
    </div>

    
    
    <button class="modal lean">L∃∀N</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/Cube.numDistinctColoringsOfCube" class="lean_decl">Cube.numDistinctColoringsOfCube</a></li>
          
        </ul>
    
      </div>
    </div>

    
        </div>
  </div>
  <div class="definition_thmcontent">
  <p>   The <em>number of distinct colorings of a cube with \(m\) colors</em> is given by: </p>
<div class="displaymath" id="a0000000085">
  \begin{equation*}  |[m]^{[6]} / S|. \end{equation*}
</div>

  </div>
</div>
<div class="proposition_thmwrapper theorem-style-plain" id="prop:computeNumDistinctColoringsOfCube-eq-numDistinctColoringsOfCube">
  <div class="proposition_thmheading">
    <span class="proposition_thmcaption">
    Proposition
    </span>
    <span class="proposition_thmlabel">37</span>
    <div class="thm_header_extras">

    
    ✓
        </div>
    <div class="thm_header_hidden_extras">

    <a class="icon proof" href="index.html#prop:computeNumDistinctColoringsOfCube-eq-numDistinctColoringsOfCube">#</a>
    
    <a class="icon proof" href="index.html#a0000000086"><svg  class="icon icon-cogs "><use xlink:href="symbol-defs.svg#icon-cogs"></use></svg>
</a>
    
    
    <button class="modal"><svg  class="icon icon-mindmap "><use xlink:href="symbol-defs.svg#icon-mindmap"></use></svg>
</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Uses</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="index.html#def:numDistinctColoringsOfCube">Definition 36</a></li>
          
          <li><a href="index.html#prop:RotationalSymmetriesOfCubeSubgroup">Proposition 35</a></li>
          
          <li><a href="index.html#def:computeNumDistinctColorings">Proposition 24</a></li>
          
        </ul>
    
      </div>
    </div>

    
    
    <button class="modal lean">L∃∀N</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/Cube.computeNumDistinctColoringsOfCube" class="lean_decl">Cube.computeNumDistinctColoringsOfCube</a></li>
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/Cube.computeNumDistinctColoringsOfCube_eq_numDistinctColoringsOfCube" class="lean_decl">Cube.computeNumDistinctColoringsOfCube_eq_numDistinctColoringsOfCube</a></li>
          
        </ul>
    
      </div>
    </div>

    
        </div>
  </div>
  <div class="proposition_thmcontent">
  <p>   The number of distinct colorings of a cube can be computed using the <em>computeNumDistinctColorings</em> function. </p>

  </div>
</div>
<div class="proof_wrapper" id="a0000000086">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">▶</span>
  </div>
  <div class="proof_content">
  <p>By Proposition&#160;<a href="index.html#def:computeNumDistinctColorings">24</a>. </p>

  </div>
</div>
<h2 id="a0000000087">5.5 Permutations</h2>
<p>We interpret the elements of \([n]\) as \(n\) unordered, indistinguishable objects. The group \(S_n\), consisting of all permutations of \([n]\), acts on \([n]\). Its elements permute our objects. Since we can permute the objects in any way and still get an equivalent configuration, two colorings are equivalent if and only if they color the same number of objects with each color. Thus, the number of distinct colorings of \(n\) unordered, indistinguishable objects with \(m\) colors is equal to the number of ways to separate \(n\) objects into \(m\) ordered sets (i.e., the number of weak compositions of \(n\) into \(m\) parts). </p>
<div class="definition_thmwrapper theorem-style-definition" id="def:numDistinctColoringsOfPerm">
  <div class="definition_thmheading">
    <span class="definition_thmcaption">
    Definition
    </span>
    <span class="definition_thmlabel">38</span>
    <div class="thm_header_extras">

    
    ✓
        </div>
    <div class="thm_header_hidden_extras">

    <a class="icon proof" href="index.html#def:numDistinctColoringsOfPerm">#</a>
    
    
    <button class="modal"><svg  class="icon icon-mindmap "><use xlink:href="symbol-defs.svg#icon-mindmap"></use></svg>
</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Uses</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="index.html#def:numDistinctColorings">Definition 2</a></li>
          
        </ul>
    
      </div>
    </div>

    
    
    <button class="modal lean">L∃∀N</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/PermutationGroup.numDistinctColoringsOfPerm" class="lean_decl">PermutationGroup.numDistinctColoringsOfPerm</a></li>
          
        </ul>
    
      </div>
    </div>

    
        </div>
  </div>
  <div class="definition_thmcontent">
  <p>   The number of distinct colorings of <em>\(n\) unordered, indistinguishable objects with \(m\) colors</em> is </p>
<div class="displaymath" id="a0000000088">
  \begin{equation*}  |[m]^{[n]}/S_n|. \end{equation*}
</div>

  </div>
</div>
<div class="definition_thmwrapper theorem-style-definition" id="def:numWeakCompositions">
  <div class="definition_thmheading">
    <span class="definition_thmcaption">
    Definition
    </span>
    <span class="definition_thmlabel">39</span>
    <div class="thm_header_extras">

    
    ✓
        </div>
    <div class="thm_header_hidden_extras">

    <a class="icon proof" href="index.html#def:numWeakCompositions">#</a>
    
    
    
    <button class="modal lean">L∃∀N</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/PermutationGroup.numWeakCompositions" class="lean_decl">PermutationGroup.numWeakCompositions</a></li>
          
        </ul>
    
      </div>
    </div>

    
        </div>
  </div>
  <div class="definition_thmcontent">
  <p>  The number of weak compositions of \(n\) into \(m\) parts is: </p>
<div class="displaymath" id="a0000000089">
  \begin{equation*} \begin{cases}  1 &  \text{if } n = m = 0, \\ 0 &  \text{if } m = 0 \text{ and } n {\gt} 0, \\ \binom {n + m - 1}{m - 1} &  \text{if } m {\gt} 0. \end{cases}\end{equation*}
</div>
<p> This is the number of ways to separate \(n\) objects into \(m\) ordered sets. </p>

  </div>
</div>
<p>We now prove that the number of distinct colorings of \(n\) unordered, indistinguishable objects with \(m\) colors is equal to the number of weak compositions of \(n\) into \(m\) parts. </p>
<div class="definition_thmwrapper theorem-style-definition" id="def:colorings-contract-expand">
  <div class="definition_thmheading">
    <span class="definition_thmcaption">
    Definition
    </span>
    <span class="definition_thmlabel">40</span>
    <div class="thm_header_extras">

    
    ✓
        </div>
    <div class="thm_header_hidden_extras">

    <a class="icon proof" href="index.html#def:colorings-contract-expand">#</a>
    
    
    
    <button class="modal lean">L∃∀N</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/PermutationGroup.contractCodomain" class="lean_decl">PermutationGroup.contractCodomain</a></li>
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/PermutationGroup.expandCodomain" class="lean_decl">PermutationGroup.expandCodomain</a></li>
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/PermutationGroup.contractDomain" class="lean_decl">PermutationGroup.contractDomain</a></li>
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/PermutationGroup.expandDomain" class="lean_decl">PermutationGroup.expandDomain</a></li>
          
        </ul>
    
      </div>
    </div>

    
        </div>
  </div>
  <div class="definition_thmcontent">
  <p>  We define functions that contract and expand the domain and codomain of colorings: </p>
<ul class="itemize">
  <li><p><em>contractCodomain</em>: Given a coloring \(f : [n] \to [m + 1]\) and a proof that \(f\) does not map any element to \(m\), this function returns \(f\) with codomain contracted to \([m]\). </p>
</li>
  <li><p><em>expandCodomain</em>: Given a coloring \(f : [n] \to [m]\), this function returns \(f\) with codomain expanded to \([m + 1]\). </p>
</li>
  <li><p><em>contractDomain</em>: Given a coloring \(f : [n + 1] \to [m]\), this function returns \(f\) with domain contracted to \([n]\). </p>
</li>
  <li><p><em>expandDomain</em>: Given a coloring \(f : [n] \to [m + 1]\), this function returns \(f\) with domain expanded to \([n + 1]\), where \(f(n) = m\). </p>
</li>
</ul>

  </div>
</div>
<div class="proposition_thmwrapper theorem-style-plain" id="prop:perm-perm-val-lt-of-perm-val-eq">
  <div class="proposition_thmheading">
    <span class="proposition_thmcaption">
    Proposition
    </span>
    <span class="proposition_thmlabel">41</span>
    <div class="thm_header_extras">

    
    ✓
        </div>
    <div class="thm_header_hidden_extras">

    <a class="icon proof" href="index.html#prop:perm-perm-val-lt-of-perm-val-eq">#</a>
    
    <a class="icon proof" href="index.html#a0000000090"><svg  class="icon icon-cogs "><use xlink:href="symbol-defs.svg#icon-cogs"></use></svg>
</a>
    
    
    
    <button class="modal lean">L∃∀N</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/ContractExpand.perm_perm_val_lt_of_perm_val_eq" class="lean_decl">ContractExpand.perm_perm_val_lt_of_perm_val_eq</a></li>
          
        </ul>
    
      </div>
    </div>

    
        </div>
  </div>
  <div class="proposition_thmcontent">
  <p>  Let \(\pi \in S_n\) such that \(\pi (i) = n\) for some \(i {\lt} n\). Then \(\pi (\pi (i)) {\lt} n\). </p>

  </div>
</div>
<div class="proof_wrapper" id="a0000000090">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">▶</span>
  </div>
  <div class="proof_content">
  <p>Assume, for a contradiction, that \(\pi (\pi (i)) \geq n\). Then </p>
<div class="displaymath" id="a0000000091">
  \begin{equation*}  \pi (\pi (i)) = n = \pi (i) \implies \pi (i) = i \implies i = n {\lt} n, \end{equation*}
</div>
<p> which is a contradiction. </p>

  </div>
</div>
<div class="definition_thmwrapper theorem-style-definition" id="def:perm-contract-expand">
  <div class="definition_thmheading">
    <span class="definition_thmcaption">
    Definition
    </span>
    <span class="definition_thmlabel">42</span>
    <div class="thm_header_extras">

    
    ✓
        </div>
    <div class="thm_header_hidden_extras">

    <a class="icon proof" href="index.html#def:perm-contract-expand">#</a>
    
    
    <button class="modal"><svg  class="icon icon-mindmap "><use xlink:href="symbol-defs.svg#icon-mindmap"></use></svg>
</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Uses</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="index.html#prop:perm-perm-val-lt-of-perm-val-eq">Proposition 41</a></li>
          
        </ul>
    
      </div>
    </div>

    
    
    <button class="modal lean">L∃∀N</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/ContractExpand.permContract" class="lean_decl">ContractExpand.permContract</a></li>
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/ContractExpand.permExpand" class="lean_decl">ContractExpand.permExpand</a></li>
          
        </ul>
    
      </div>
    </div>

    
        </div>
  </div>
  <div class="definition_thmcontent">
  <p>   We define functions that contract and expand permutations: </p>
<ul class="itemize">
  <li><p><em>permContract</em>: Contracts \(\pi \in S_{n + 1}\) by removing \(n\) from the domain and remapping \(\pi ^{-1}(n) \mapsto \pi (n)\), if \(\pi ^{-1}(n) \neq n\). The result is a permutation in \(S_n\), whose inverse can be constructed by using the same procedure on \(\pi ^{-1}\). </p>
</li>
  <li><p><em>permExpand</em>: Expands a permutation \(\pi \in S_n\) by adding \(n\) to the domain and defining \(\pi (n) = n\). The result is a permutation in \(S_{n + 1}\), whose inverse can be constructed by using the same procedure on \(\pi ^{-1}\). </p>
</li>
</ul>

  </div>
</div>
<div class="proposition_thmwrapper theorem-style-plain" id="prop:numDistinctColoringsOfPerm-succ-succ">
  <div class="proposition_thmheading">
    <span class="proposition_thmcaption">
    Proposition
    </span>
    <span class="proposition_thmlabel">43</span>
    <div class="thm_header_extras">

    
    ✓
        </div>
    <div class="thm_header_hidden_extras">

    <a class="icon proof" href="index.html#prop:numDistinctColoringsOfPerm-succ-succ">#</a>
    
    <a class="icon proof" href="index.html#a0000000092"><svg  class="icon icon-cogs "><use xlink:href="symbol-defs.svg#icon-cogs"></use></svg>
</a>
    
    
    <button class="modal"><svg  class="icon icon-mindmap "><use xlink:href="symbol-defs.svg#icon-mindmap"></use></svg>
</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Uses</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="index.html#def:perm-contract-expand">Definition 42</a></li>
          
          <li><a href="index.html#def:colorings-contract-expand">Definition 40</a></li>
          
          <li><a href="index.html#def:numDistinctColoringsOfPerm">Definition 38</a></li>
          
          <li><a href="index.html#def:numDistinctColorings">Definition 2</a></li>
          
        </ul>
    
      </div>
    </div>

    
    
    <button class="modal lean">L∃∀N</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/PermutationGroup.numDistinctColoringsOfPerm_succ_succ" class="lean_decl">PermutationGroup.numDistinctColoringsOfPerm_succ_succ</a></li>
          
        </ul>
    
      </div>
    </div>

    
        </div>
  </div>
  <div class="proposition_thmcontent">
  <p>   A recurrence formula for the number of distinct colorings of \(n + 1\) unordered, indistinguishable objects with \(m + 1\) colors: </p>
<div class="displaymath" id="a0000000093">
  \begin{equation*}  |[m + 1]^{[n + 1]}/S_{n + 1}| = |[m]^{[n + 1]}/S_{n + 1}| + |[m + 1]^{[n]}/S_n|. \end{equation*}
</div>

  </div>
</div>
<div class="proof_wrapper" id="a0000000092">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">▶</span>
  </div>
  <div class="proof_content">
  <p>We construct a bijection </p>
<div class="displaymath" id="a0000000094">
  \begin{equation*}  \varphi : \left([m]^{[n + 1]}/S_{n + 1}\right) \cup \left([m + 1]^{[n]}/S_n\right) \to [m + 1]^{[n + 1]}/S_{n + 1}. \end{equation*}
</div>
<p> The function \(\varphi \) is defined as follows: </p>
<ul class="itemize">
  <li><p>For \([f] \in [m]^{[n + 1]}/S_{n + 1}\), we set </p>
<div class="displaymath" id="a0000000095">
  \begin{equation*}  \varphi ([f]) = [\textit{expandCodomain}(f)]. \end{equation*}
</div>
<p> This is well-defined since if \(f_1 = g \cdot f_2\), then </p>
<div class="displaymath" id="a0000000096">
  \begin{equation*}  \textit{expandCodomain}(f_1) = g \cdot (\textit{expandCodomain}(f_2)). \end{equation*}
</div>
</li>
  <li><p>For \([f] \in [m + 1]^{[n]}/S_n\), we set </p>
<div class="displaymath" id="a0000000097">
  \begin{equation*}  \varphi ([f]) = [\textit{expandDomain}(f)]. \end{equation*}
</div>
<p> This is well-defined since if \(f_1 = g \cdot f_2\), then </p>
<div class="displaymath" id="a0000000098">
  \begin{equation*}  \textit{expandDomain}(f_1) = (\textit{permExpand}(g)) \cdot (\textit{expandDomain}(f_2)). \end{equation*}
</div>
</li>
</ul>
<p> We now prove that \(\varphi \) is a bijection. <br /><b class="bfseries">Injectivity:</b> Suppose \(\varphi ([f_1]) = \varphi ([f_2])\). Then either: </p>
<ul class="itemize">
  <li><p>no function in \(\varphi ([f_1]) = \varphi ([f_2])\) maps to \(m\), which implies </p>
<div class="displaymath" id="a0000000099">
  \begin{equation*}  [f_1], [f_2] \in [m]^{[n + 1]}/S_{n + 1}. \end{equation*}
</div>
<p> In this case, we have </p>
<div class="displaymath" id="a0000000100">
  \begin{equation*}  [\textit{expandCodomain}(f_1)] = [\textit{expandCodomain}(f_2)] \end{equation*}
</div>
<p> so </p>
<div class="displaymath" id="a0000000101">
  \begin{equation*}  \textit{expandCodomain}(f_1) = g \cdot (\textit{expandCodomain}(f_2)). \end{equation*}
</div>
<p> This implies \(f_1 = g \cdot f_2\), so \([f_1] = [f_2]\). </p>
</li>
  <li><p>some function in \(\varphi ([f_1]) = \varphi ([f_2])\) maps to \(m\), which implies </p>
<div class="displaymath" id="a0000000102">
  \begin{equation*}  [f_1], [f_2] \in [m + 1]^{[n]}/S_n. \end{equation*}
</div>
<p> In this case, we have </p>
<div class="displaymath" id="a0000000103">
  \begin{equation*}  [\textit{expandDomain}(f_1)] = [\textit{expandDomain}(f_2)], \end{equation*}
</div>
<p> so </p>
<div class="displaymath" id="a0000000104">
  \begin{equation*}  \textit{expandDomain}(f_1) = g \cdot (\textit{expandDomain}(f_2)). \end{equation*}
</div>
<p> This implies that </p>
<div class="displaymath" id="a0000000105">
  \begin{equation*}  f_1(x) = ((\textit{permContract}(g)) \cdot f_2)(x) \end{equation*}
</div>
<p> for all \(x \in [n] \setminus \{ g \cdot n\} \). <br />If \(g \cdot n \neq n\), then we have </p>
<div class="displaymath" id="a0000000106">
  \begin{align*}  f_1(g \cdot n) & = \textit{expandDomain}(f_1)(g \cdot n) \\ & = \textit{expandDomain}(f_2)(n) \\ & = m \\ & = \textit{expandDomain}(f_1)(n) \\ & = \textit{expandDomain}(f_2)(g^{-1} \cdot n) \\ & = f_2(g^{-1} \cdot n) \\ & = ((\textit{permContract}(g)) \cdot f_2)(g \cdot n). \end{align*}
</div>
<p> Thus, \([f_1] = [f_2]\). </p>
</li>
</ul>
<p> <b class="bfseries">Surjectivity:</b> Take any \([f] \in [m + 1]^{[n + 1]}/S_{n + 1}\). If \(f\) does not map any element to \(m\), then </p>
<div class="displaymath" id="a0000000107">
  \begin{equation*}  \varphi ([\textit{contractCodomain}(f)]) = [f]. \end{equation*}
</div>
<p> Otherwise, there exists some \(i\) such that \(f(i) = m\). Define </p>
<div class="displaymath" id="a0000000108">
  \begin{equation*}  h = (i\  n) \cdot f, \end{equation*}
</div>
<p> where \((i\  n)\) is the transposition swapping \(i\) and \(n\). Since \(h(n) = m\), we have </p>
<div class="displaymath" id="a0000000109">
  \begin{equation*}  \varphi ([\textit{contractDomain}(h)]) = [h] = [f]. \end{equation*}
</div>

  </div>
</div>
<div class="proposition_thmwrapper theorem-style-plain" id="prop:numDistinctColoringsOfPerm-eq-numWeakCompositions">
  <div class="proposition_thmheading">
    <span class="proposition_thmcaption">
    Proposition
    </span>
    <span class="proposition_thmlabel">44</span>
    <div class="thm_header_extras">

    
    ✓
        </div>
    <div class="thm_header_hidden_extras">

    <a class="icon proof" href="index.html#prop:numDistinctColoringsOfPerm-eq-numWeakCompositions">#</a>
    
    <a class="icon proof" href="index.html#a0000000110"><svg  class="icon icon-cogs "><use xlink:href="symbol-defs.svg#icon-cogs"></use></svg>
</a>
    
    
    <button class="modal"><svg  class="icon icon-mindmap "><use xlink:href="symbol-defs.svg#icon-mindmap"></use></svg>
</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Uses</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="index.html#prop:numDistinctColoringsOfPerm-succ-succ">Proposition 43</a></li>
          
          <li><a href="index.html#def:numWeakCompositions">Definition 39</a></li>
          
          <li><a href="index.html#def:numDistinctColoringsOfPerm">Definition 38</a></li>
          
        </ul>
    
      </div>
    </div>

    
    
    <button class="modal lean">L∃∀N</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/PermutationGroup.numDistinctColoringsOfPerm_eq_numWeakCompositions" class="lean_decl">PermutationGroup.numDistinctColoringsOfPerm_eq_numWeakCompositions</a></li>
          
        </ul>
    
      </div>
    </div>

    
        </div>
  </div>
  <div class="proposition_thmcontent">
  <p>   The number of distinct colorings of \(n\) unordered, indistinguishable objects with \(m\) colors is equal to the number of weak compositions of \(n\) with \(m\) parts. </p>

  </div>
</div>
<div class="proof_wrapper" id="a0000000110">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">▶</span>
  </div>
  <div class="proof_content">
  <p>We use induction on \(m + n\). <br />If \(m + n = 0\), then \(n = m = 0\), and we have \(|\emptyset ^\emptyset / S_0| = 1\). <br />Otherwise we first check cases when \(n = 0\) or \(m = 0\) and see that the result holds. <br />If \(n {\gt} 0\) and \(m {\gt} 0\), applying Proposition&#160;<a href="index.html#prop:numDistinctColoringsOfPerm-succ-succ">43</a> and the inductive hypothesis, we obtain </p>
<div class="displaymath" id="a0000000111">
  \begin{equation*}  |[m]^{[n]}/S_n| = |[m - 1]^{[n]}/S_n| + |[m]^{[n - 1]}/S_n| = \binom {n + m - 2}{m - 2} + \binom {n + m - 2}{m - 1} = \binom {n + m - 1}{m - 1}. \end{equation*}
</div>

  </div>
</div>
<h1 id="a0000000112">6 Sum of Stirling numbers of the first kind</h1>
<div class="definition_thmwrapper theorem-style-definition" id="def:stirlingFirstKind">
  <div class="definition_thmheading">
    <span class="definition_thmcaption">
    Definition
    </span>
    <span class="definition_thmlabel">45</span>
    <div class="thm_header_extras">

    
    ✓
        </div>
    <div class="thm_header_hidden_extras">

    <a class="icon proof" href="index.html#def:stirlingFirstKind">#</a>
    
    
    <button class="modal"><svg  class="icon icon-mindmap "><use xlink:href="symbol-defs.svg#icon-mindmap"></use></svg>
</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Uses</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="index.html#def:CyclesOfGroup">Definition 3</a></li>
          
        </ul>
    
      </div>
    </div>

    
    
    <button class="modal lean">L∃∀N</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/StirlingFirstKindSum.stirlingFirstKind" class="lean_decl">StirlingFirstKindSum.stirlingFirstKind</a></li>
          
        </ul>
    
      </div>
    </div>

    
        </div>
  </div>
  <div class="definition_thmcontent">
  <p>   The <a href ="https://en.wikipedia.org/wiki/Stirling_numbers_of_the_first_kind"><span class="ttfamily">Stirling numbers of the first kind</span></a> count the number of permutations of a set of size \(n\) with exactly \(k\) cycles: </p>
<div class="displaymath" id="a0000000113">
  \begin{equation*}  s(n, k) = |\{ \pi \in S_n \mid c(\pi ) = k\} |, \end{equation*}
</div>
<p> where \(c(\pi )\) denotes the number of cycles in the permutation \(\pi \). </p>

  </div>
</div>
<p>We now derive a summation formula for Stirling numbers of the first kind using our previous results. </p>
<div class="proposition_thmwrapper theorem-style-plain" id="prop:sum-stirlingFirstKind-mul-pow-eq-choose-mul-factorial">
  <div class="proposition_thmheading">
    <span class="proposition_thmcaption">
    Proposition
    </span>
    <span class="proposition_thmlabel">46</span>
    <div class="thm_header_extras">

    
    ✓
        </div>
    <div class="thm_header_hidden_extras">

    <a class="icon proof" href="index.html#prop:sum-stirlingFirstKind-mul-pow-eq-choose-mul-factorial">#</a>
    
    <a class="icon proof" href="index.html#a0000000114"><svg  class="icon icon-cogs "><use xlink:href="symbol-defs.svg#icon-cogs"></use></svg>
</a>
    
    
    <button class="modal"><svg  class="icon icon-mindmap "><use xlink:href="symbol-defs.svg#icon-mindmap"></use></svg>
</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Uses</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="index.html#def:stirlingFirstKind">Definition 45</a></li>
          
          <li><a href="index.html#prop:numDistinctColoringsOfPerm-eq-numWeakCompositions">Proposition 44</a></li>
          
          <li><a href="index.html#def:numWeakCompositions">Definition 39</a></li>
          
          <li><a href="index.html#def:numDistinctColoringsOfPerm">Definition 38</a></li>
          
          <li><a href="index.html#prop:numDistinctColorings-mul-card-group-eq-sum-numGroupOfNumCycles-mul-card-pow">Theorem 8</a></li>
          
        </ul>
    
      </div>
    </div>

    
    
    <button class="modal lean">L∃∀N</button>
        <div class="modal-container">
      <div class="modal-content">
        <header>
          <h1>Lean declarations</h1>
          <button class="closebtn"><svg  class="icon icon-cross "><use xlink:href="symbol-defs.svg#icon-cross"></use></svg>
</button>
        </header>
        
        <ul class="uses">
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/StirlingFirstKindSum.sum_stirlingFirstKind_mul_pow_eq_choose_mul_factorial" class="lean_decl">StirlingFirstKindSum.sum_stirlingFirstKind_mul_pow_eq_choose_mul_factorial</a></li>
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/StirlingFirstKindSum.sum_stirlingFirstKind_of_succ_mul_zero_pow_eq_zero" class="lean_decl">StirlingFirstKindSum.sum_stirlingFirstKind_of_succ_mul_zero_pow_eq_zero</a></li>
          
          <li><a href="https://Luka-O.github.io/polya-enumeration-theorem/docs/find/#doc/StirlingFirstKindSum.sum_stirlingFirstKind_of_zero_mul_zero_pow_eq_one" class="lean_decl">StirlingFirstKindSum.sum_stirlingFirstKind_of_zero_mul_zero_pow_eq_one</a></li>
          
        </ul>
    
      </div>
    </div>

    
        </div>
  </div>
  <div class="proposition_thmcontent">
  <p>   For any \(n, m \in \mathbb {N}\) with \(m {\gt} 0\), we have </p>
<div class="displaymath" id="a0000000115">
  \begin{equation*}  \sum _{k = 0}^n s(n, k) m^k = n! \binom {n + m - 1}{m - 1}. \end{equation*}
</div>
<p> Additionally: </p>
<ul class="itemize">
  <li><p>If \(n = m = 0\), the sum evaluates to \(1\) in Lean, since \(0^0 = 1\). </p>
</li>
  <li><p>If \(n {\gt} 0\) and \(m = 0\), the sum evaluates to \(0\). </p>
</li>
</ul>

  </div>
</div>
<div class="proof_wrapper" id="a0000000114">
  <div class="proof_heading">
    <span class="proof_caption">
    Proof
    </span>
    <span class="expand-proof">▶</span>
  </div>
  <div class="proof_content">
  <p>We apply <em>Pólya’s enumeration theorem</em> (Proposition&#160;<a href="index.html#prop:numDistinctColorings-mul-card-group-eq-sum-numGroupOfNumCycles-mul-card-pow">8</a>) and Proposition&#160;<a href="index.html#prop:numDistinctColoringsOfPerm-eq-numWeakCompositions">44</a>: </p>
<div class="displaymath" id="a0000000116">
  \begin{equation*}  \sum _{k = 0}^n s(n, k) m^k = |[m]^{[n]}/S_n| \cdot |S_n| = n! \binom {n + m - 1}{m - 1}. \end{equation*}
</div>

  </div>
</div>

</div> <!--main-text -->
</div> <!-- content-wrapper -->
</div> <!-- content -->
</div> <!-- wrapper -->

<nav class="prev_up_next">
  <svg  id="showmore-minus" class="icon icon-eye-minus showmore"><use xlink:href="symbol-defs.svg#icon-eye-minus"></use></svg>

  <svg  id="showmore-plus" class="icon icon-eye-plus showmore"><use xlink:href="symbol-defs.svg#icon-eye-plus"></use></svg>

</nav>

<script type="text/javascript" src="js/jquery.min.js"></script>
<script type="text/javascript" src="js/plastex.js"></script>
<script type="text/javascript" src="js/svgxuse.js"></script>
<script type="text/javascript" src="js/js.cookie.min.js"></script>
<script type="text/javascript" src="js/showmore.js"></script>
</body>
</html>